(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d65eb168"],{"02c9":function(e,t,n){"use strict";n("adb0")},"0748":function(e,t,n){"use strict";n("caad"),n("2532");var r=n("7a23"),c={class:"table-responsive"},a={class:"table",style:{border:"none"}},i={key:0,style:{padding:"2vh"}},o={style:{border:"none"}},s=["onClick"],u={key:0,style:{padding:"0"}},l={class:"btn p-2"};function b(e,t,n,b,d,O){return Object(r["y"])(),Object(r["h"])("div",c,[Object(r["i"])("table",a,[Object(r["i"])("thead",null,[Object(r["i"])("tr",null,[(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(O.columns,(function(t,n){return Object(r["R"])((Object(r["y"])(),Object(r["h"])("th",{scope:"col",key:n,class:"bg-light",style:{padding:"2vh"}},[Object(r["F"])(e.$slots,t+"-title",{col:t},(function(){return[Object(r["j"])(Object(r["J"])(t),1)]}),!0)],512)),[[r["O"],O.containColumn.includes(t)]])})),128)),n.functions.length>0&&n.rows.length>0?(Object(r["y"])(),Object(r["h"])("th",i," Functions ")):Object(r["g"])("",!0)])]),Object(r["i"])("tbody",o,[(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(n.rows,(function(t,c){return Object(r["y"])(),Object(r["h"])("tr",{key:c,class:Object(r["s"])(n.hover?"hover":""),onClick:function(e){return O.rowClickEvent(c)}},[(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(O.columns,(function(n,c){return Object(r["R"])((Object(r["y"])(),Object(r["h"])("td",{key:c,style:{padding:"2vh"}},[Object(r["F"])(e.$slots,n,{row:t},(function(){return[Object(r["j"])(Object(r["J"])(t[n]),1)]}),!0)],512)),[[r["O"],O.containColumn.includes(n)]])})),128)),n.functions.length>0?(Object(r["y"])(),Object(r["h"])("div",u,[(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(n.functions,(function(e,t){return Object(r["y"])(),Object(r["h"])("td",{key:t,style:{padding:"2vh"}},[Object(r["i"])("button",l,Object(r["J"])(e.text),1)])})),128))])):Object(r["g"])("",!0)],10,s)})),128))])])])}n("b64b");var d={name:"Table",props:{hover:{type:Boolean,default:!1},rows:Array,functions:{type:Array,default:[]},isHeader:{type:Boolean,default:!0},contain:{type:Array,default:[]},innerRow:{type:Array,default:[]},rowClickFunction:{type:Function,default:function(){}}},computed:{columns:function(){return 0==this.rows.length?[]:Object.keys(this.rows[0])},containColumn:function(){return 0==this.rows.length||0!=this.contain.length?this.contain:Object.keys(this.rows[0])}},methods:{functionEvent:function(e){return this.functions[e].event?this.functions[e].event:null},rowClickEvent:function(e){this.rowClickFunction(e)}}},O=(n("b02a"),n("6b0d")),j=n.n(O);const p=j()(d,[["render",b],["__scopeId","data-v-6737075d"]]);t["a"]=p},"12ae":function(e,t,n){e.exports=n.p+"img/loading.a4f2cb80.gif"},2532:function(e,t,n){"use strict";var r=n("23e7"),c=n("e330"),a=n("5a34"),i=n("1d80"),o=n("577e"),s=n("ab13"),u=c("".indexOf);r({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~u(o(i(this)),o(a(e)),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,n){"use strict";var r=n("e330"),c=n("5e77").PROPER,a=n("6eeb"),i=n("825a"),o=n("3a9b"),s=n("577e"),u=n("d039"),l=n("ad6d"),b="toString",d=RegExp.prototype,O=d[b],j=r(l),p=u((function(){return"/a/b"!=O.call({source:"a",flags:"b"})})),h=c&&O.name!=b;(p||h)&&a(RegExp.prototype,b,(function(){var e=i(this),t=s(e.source),n=e.flags,r=s(void 0===n&&o(d,e)&&!("flags"in d)?j(e):n);return"/"+t+"/"+r}),{unsafe:!0})},"44e7":function(e,t,n){var r=n("861d"),c=n("c6b6"),a=n("b622"),i=a("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==c(e))}},"5a34":function(e,t,n){var r=n("da84"),c=n("44e7"),a=r.TypeError;e.exports=function(e){if(c(e))throw a("The method doesn't accept regular expressions");return e}},"7e61":function(e,t,n){"use strict";var r=n("d4ec"),c=n("bee2"),a=n("bc3a"),i=n.n(a),o=n("853f"),s="http://153.92.210.249:3000/api/v1/order",u=function(){function e(){Object(r["a"])(this,e)}return Object(c["a"])(e,[{key:"getOrders",value:function(e){return i.a.post(s+"/paginated/"+e,{type:0},{headers:Object(o["a"])()})}},{key:"getSingleOrder",value:function(e){return i.a.get(s+"/admin/"+e,{headers:Object(o["a"])()})}},{key:"updateStatus",value:function(e,t){return console.log(t),i.a.patch(s+"/admin/"+e,{status:t},{headers:Object(o["a"])()})}},{key:"deleteOrder",value:function(e){return i.a.delete(s+"/"+e,{headers:Object(o["a"])()})}}]),e}();t["a"]=new u},"853f":function(e,t,n){"use strict";function r(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{"x-access-token":e.token}:{}}n.d(t,"a",(function(){return r}))},ab13:function(e,t,n){var r=n("b622"),c=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[c]=!1,"/./"[e](t)}catch(r){}}return!1}},adb0:function(e,t,n){},b02a:function(e,t,n){"use strict";n("ee1f")},b758:function(e,t,n){"use strict";var r=n("7a23"),c=n("12ae"),a=n.n(c),i={src:a.a,alt:"logo",height:"80"};function o(e,t,n,c,a,o){return Object(r["R"])((Object(r["y"])(),Object(r["h"])("img",i,null,512)),[[r["O"],n.active]])}var s={name:"LoadingIndicator",props:{active:Boolean}},u=n("6b0d"),l=n.n(u);const b=l()(s,[["render",o]]);t["a"]=b},c8ba6:function(e,t,n){"use strict";n("db5c")},ce2f:function(e,t,n){"use strict";var r=n("7a23"),c=function(e){return Object(r["B"])("data-v-53bba04f"),e=e(),Object(r["z"])(),e},a={class:"text-center my-2",style:{"font-weight":"bold"}},i={class:"d-flex"},o=c((function(){return Object(r["i"])("i",{class:"fa fa-arrow-left","aria-hidden":"true"},null,-1)})),s=[o],u=["onClick"],l={class:"mx-3"},b=c((function(){return Object(r["i"])("i",{class:"fa fa-arrow-right","aria-hidden":"true"},null,-1)})),d=[b];function O(e,t,n,c,o,b){var O=this;return Object(r["y"])(),Object(r["h"])("div",null,[Object(r["i"])("div",a,Object(r["J"])(e.$t("page_navigator_name"))+" ("+Object(r["J"])(n.pages)+" ) ",1),Object(r["i"])("div",i,[Object(r["i"])("div",{onClick:t[0]||(t[0]=function(){O.$emit("goto-first")}),class:"mx-3",style:{cursor:"pointer"}}," First "),Object(r["i"])("div",{style:{cursor:"pointer"},onClick:t[1]||(t[1]=function(){return b.prevPage&&b.prevPage.apply(b,arguments)})},s),(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(b.pagesTrim(n.pages,n.current_page,4),(function(e){return Object(r["y"])(),Object(r["h"])("div",{class:Object(r["s"])(["mx-3",e==n.current_page?"current-page":""]),key:e,style:{cursor:"pointer"},onClick:function(t){return b.clickPage(e)}},Object(r["J"])(e),11,u)})),128)),Object(r["R"])(Object(r["i"])("div",l,"...",512),[[r["O"],n.pages>10&&n.current_page+5<n.pages]]),Object(r["i"])("div",{style:{cursor:"pointer"},onClick:t[2]||(t[2]=function(){return b.nextPage&&b.nextPage.apply(b,arguments)})},d),Object(r["i"])("div",{onClick:t[3]||(t[3]=function(){O.$emit("goto-last")}),class:"mx-3",style:{cursor:"pointer"}}," Last ")])])}n("a9e3");var j={name:"Page Navigator",props:{pages:{type:Number,default:0},current_page:{type:Number,default:0}},methods:{clickPage:function(e){this.$emit("click-page",e)},nextPage:function(){this.$emit("next-page")},prevPage:function(){this.$emit("prev-page")},pagesTrim:function(e,t,n){if(e>10){for(var r=[],c=t-n;c<t+n;c++)if(!(c<1)){if(c>e)break;r.push(c)}return console.log("trim_pages",r,"pages",e),console.log("current_page",t,"limit",n),r}return e}}},p=(n("02c9"),n("6b0d")),h=n.n(p);const g=h()(j,[["render",O],["__scopeId","data-v-53bba04f"]]);t["a"]=g},db5c:function(e,t,n){},ee1f:function(e,t,n){},f37a:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),c={class:"theme-dashboard-view"},a={class:"my-3 p-3 shadow-sm border"},i={class:"d-flex w-100"},o=Object(r["i"])("i",{class:"fa fa-filter","aria-hidden":"true"},null,-1),s={class:"mx-2",style:{width:"15vh"}},u={class:"col-10 d-flex align-items-center px-2"},l={class:"col-md-8 col-sm-12 border d-flex"},b={class:"col-4 p-3"},d=Object(r["i"])("strong",null,"Status",-1),O=Object(r["i"])("option",{value:null},null,-1),j=Object(r["i"])("option",{value:0},"Pending",-1),p=Object(r["i"])("option",{value:1},"Delivering",-1),h=Object(r["i"])("option",{value:2},"Delivered",-1),g=[O,j,p,h],f={class:"col-4 p-3"},y=Object(r["i"])("strong",null,"Payment Status",-1),v=Object(r["i"])("option",{value:null},null,-1),m=Object(r["i"])("option",{value:!0},"Paid",-1),_=Object(r["i"])("option",{value:!1},"Not Paid",-1),x=[v,m,_],w={class:"col-4 p-3"},k=Object(r["i"])("strong",null,"Branch",-1),P=Object(r["i"])("option",{value:null},null,-1),S=Object(r["i"])("option",{value:0},"Nani",-1),C=Object(r["i"])("option",{value:1},"Almoudi",-1),J=Object(r["i"])("option",{value:2},"Sara",-1),R=[P,S,C,J],F={class:"d-flex justify-content-center"},$={class:"justify-content-center text-center text-danger my-4"},q={class:"m-2 p-3"},N=Object(r["j"])(" Branch "),E={key:0,class:"d-flex justify-content-center p-2"};function T(e,t,n,O,j,p){var h=Object(r["G"])("LoadingIndicator"),v=Object(r["G"])("Table"),m=Object(r["G"])("PageNav");return Object(r["y"])(),Object(r["h"])("div",c,[Object(r["i"])("h1",null,Object(r["J"])(e.$t("order_home_title")),1),Object(r["i"])("div",a,[Object(r["i"])("div",i,[Object(r["i"])("span",{class:Object(r["s"])(["mx-2 p-2 rounded d-flex align-items-center col-2",{border:j.ShowFilters,"bg-light":j.ShowFilters}]),onClick:t[0]||(t[0]=function(){j.ShowFilters=!j.ShowFilters}),style:{cursor:"pointer"}},[o,Object(r["i"])("span",s,Object(r["J"])(e.$t("inventory_search_bar_filter_button")),1)],2),Object(r["i"])("div",u,[Object(r["i"])("div",l,[Object(r["R"])(Object(r["i"])("input",{type:"tel",placeholder:"Enter Ordered Phone Number",style:{border:"none"},class:"p-2 w-100","onUpdate:modelValue":t[1]||(t[1]=function(e){return j.queryText=e}),onKeydown:t[2]||(t[2]=Object(r["S"])((function(){return p.SearchOrder&&p.SearchOrder.apply(p,arguments)}),["enter"]))},null,544),[[r["N"],j.queryText]]),Object(r["i"])("button",{class:"btn border theme-background-primary text-light p-2",onClick:t[3]||(t[3]=function(){return p.SearchOrder&&p.SearchOrder.apply(p,arguments)})},Object(r["J"])(e.$t("inventory_search_bar_button_name")),1)])])]),Object(r["i"])("div",{class:Object(r["s"])(["my-2 d-flex",{"d-flex":j.ShowFilters,"d-none":!j.ShowFilters}])},[Object(r["i"])("div",b,[d,Object(r["i"])("div",null,[Object(r["R"])(Object(r["i"])("select",{class:"p-2 my-2",style:{width:"100%",height:"100%",border:"1px solid lightgrey"},"onUpdate:modelValue":t[4]||(t[4]=function(e){return j.queryStatus=e})},g,512),[[r["M"],j.queryStatus]])])]),Object(r["i"])("div",f,[y,Object(r["i"])("div",null,[Object(r["R"])(Object(r["i"])("select",{class:"p-2 my-2",style:{width:"100%",height:"100%",border:"1px solid lightgrey"},"onUpdate:modelValue":t[5]||(t[5]=function(e){return j.queryPaymentStatus=e})},x,512),[[r["M"],j.queryPaymentStatus]])])]),Object(r["i"])("div",w,[k,Object(r["i"])("div",null,[Object(r["R"])(Object(r["i"])("select",{class:"p-2 my-2",style:{width:"100%",height:"100%",border:"1px solid lightgrey"},"onUpdate:modelValue":t[6]||(t[6]=function(e){return j.queryBranch=e})},R,512),[[r["M"],j.queryBranch]])])])],2)]),Object(r["i"])("div",F,[Object(r["k"])(h,{active:j.loading},null,8,["active"])]),Object(r["R"])(Object(r["i"])("div",null,[Object(r["i"])("div",$,[Object(r["i"])("h4",null,Object(r["J"])(j.load_error),1)])],512),[[r["O"],j.load_error]]),Object(r["R"])(Object(r["i"])("div",q,[Object(r["k"])(v,{rows:j.order_data,hover:!0,contain:["id","status","total_price","created_at","user_phoneNumber","branch"],rowClickFunction:p.clickOrder},{"id-title":Object(r["Q"])((function(){return[Object(r["j"])(Object(r["J"])(e.$t("order_home_table_id")),1)]})),"status-title":Object(r["Q"])((function(){return[Object(r["j"])(Object(r["J"])(e.$t("order_home_table_status")),1)]})),"total_price-title":Object(r["Q"])((function(){return[Object(r["j"])(Object(r["J"])(e.$t("order_home_table_total_price")),1)]})),"user_phoneNumber-title":Object(r["Q"])((function(){return[Object(r["j"])(Object(r["J"])(e.$t("order_home_table_phone_number")),1)]})),"created_at-title":Object(r["Q"])((function(){return[Object(r["j"])(Object(r["J"])(e.$t("order_home_table_created_at")),1)]})),"branch-title":Object(r["Q"])((function(){return[N]})),branch:Object(r["Q"])((function(e){return[Object(r["i"])("div",null,[Object(r["R"])(Object(r["i"])("span",null,"Nani",512),[[r["O"],1==e.row.branch]]),Object(r["R"])(Object(r["i"])("span",null,"Almoudi",512),[[r["O"],2==e.row.branch]]),Object(r["R"])(Object(r["i"])("span",null,"Sara",512),[[r["O"],3==e.row.branch]])])]})),status:Object(r["Q"])((function(t){return[Object(r["i"])("div",null,[Object(r["R"])(Object(r["i"])("span",{style:{"border-radius":"5px"},class:"p-1 bg-warning text-light"},Object(r["J"])(e.$t("order_home_table_status_pending")),513),[[r["O"],0==t.row.status]]),Object(r["R"])(Object(r["i"])("span",{style:{"border-radius":"5px"},class:"p-1 bg-primary text-light"},Object(r["J"])(e.$t("order_home_table_status_delivering")),513),[[r["O"],1==t.row.status]]),Object(r["R"])(Object(r["i"])("span",{style:{"border-radius":"5px"},class:"p-1 bg-success text-light"},Object(r["J"])(e.$t("order_home_table_status_delivered")),513),[[r["O"],2==t.row.status]])])]})),items:Object(r["Q"])((function(e){return[Object(r["i"])("div",null,Object(r["J"])(e.row.items.length)+" Items ",1)]})),_:1},8,["rows","rowClickFunction"])],512),[[r["O"],!j.loading]]),j.loading?Object(r["g"])("",!0):(Object(r["y"])(),Object(r["h"])("div",E,[Object(r["k"])(m,{pages:j.pages,current_page:j.current_page,onClickPage:p.setOrders,onNextPage:p.nextPage,onPrevPage:p.prevPage,onGotoFirst:p.gotoFirstPage,onGotoLast:p.gotoLastPage},null,8,["pages","current_page","onClickPage","onNextPage","onPrevPage","onGotoFirst","onGotoLast"])]))])}n("d81d"),n("b64b"),n("d3b7"),n("25f0");var B=n("0748"),L=n("b758"),Q=n("ce2f"),I=n("7e61"),A={name:"DashboardOrders",components:{Table:B["a"],LoadingIndicator:L["a"],PageNav:Q["a"]},data:function(){return{loading:!1,load_error:"",order_data:[],current_page:1,pages:0,ShowFilters:!1,queryText:"",queryStatus:null,queryPaymentStatus:null,queryBranch:null}},methods:{clickOrder:function(e){console.log("Click Order:",e),this.$router.push("/orders/"+this.order_data[e].id)},nextPage:function(){this.current_page!=this.pages&&this.setOrders(this.current_page+1)},prevPage:function(){1!=this.current_page&&this.setOrders(this.current_page-1)},gotoFirstPage:function(){1!=this.current_page&&this.setOrders(1)},gotoLastPage:function(){this.current_page!=this.pages&&this.setOrders(this.pages)},setOrders:function(e){var t=this;this.loading=!0,this.load_error="",I["a"].getOrders(e).then((function(n){console.log(n),console.log(Object.keys(n.data.data.orders).map((function(e){return n.data.data.orders[e].order}))),t.loading=!1,t.current_page=e,t.order_data=Object.keys(n.data.data.orders).map((function(e){return n.data.data.orders[e].order})),t.pages=n.data.data.total_pages}),(function(e){t.loading=!1,console.log("FAIL"),t.load_error=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))},SearchOrder:function(){this.$router.push({name:"OrderSearch",params:{query_text:this.queryText,query_status:this.queryStatus,query_payment_status:this.queryPaymentStatus,query_branch:this.queryBranch}})}},mounted:function(){this.setOrders(this.current_page)}},G=(n("c8ba6"),n("6b0d")),U=n.n(G);const V=U()(A,[["render",T]]);t["default"]=V}}]);
//# sourceMappingURL=chunk-d65eb168.1937eee9.js.map