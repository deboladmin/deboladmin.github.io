(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d384a89"],{"02c9":function(e,t,n){"use strict";n("adb0")},"0748":function(e,t,n){"use strict";n("caad"),n("2532");var r=n("7a23"),c={class:"table-responsive"},a={class:"table",style:{border:"none"}},i={key:0,style:{padding:"2vh"}},o={style:{border:"none"}},s=["onClick"],u={key:0,style:{padding:"0"}},l={class:"btn p-2"};function b(e,t,n,b,g,d){return Object(r["y"])(),Object(r["h"])("div",c,[Object(r["i"])("table",a,[Object(r["i"])("thead",null,[Object(r["i"])("tr",null,[(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(d.columns,(function(t,n){return Object(r["R"])((Object(r["y"])(),Object(r["h"])("th",{scope:"col",key:n,class:"bg-light",style:{padding:"2vh"}},[Object(r["F"])(e.$slots,t+"-title",{col:t},(function(){return[Object(r["j"])(Object(r["J"])(t),1)]}),!0)],512)),[[r["O"],d.containColumn.includes(t)]])})),128)),n.functions.length>0&&n.rows.length>0?(Object(r["y"])(),Object(r["h"])("th",i," Functions ")):Object(r["g"])("",!0)])]),Object(r["i"])("tbody",o,[(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(n.rows,(function(t,c){return Object(r["y"])(),Object(r["h"])("tr",{key:c,class:Object(r["s"])(n.hover?"hover":""),onClick:function(e){return d.rowClickEvent(c)}},[(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(d.columns,(function(n,c){return Object(r["R"])((Object(r["y"])(),Object(r["h"])("td",{key:c,style:{padding:"2vh"}},[Object(r["F"])(e.$slots,n,{row:t},(function(){return[Object(r["j"])(Object(r["J"])(t[n]),1)]}),!0)],512)),[[r["O"],d.containColumn.includes(n)]])})),128)),n.functions.length>0?(Object(r["y"])(),Object(r["h"])("div",u,[(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(n.functions,(function(e,t){return Object(r["y"])(),Object(r["h"])("td",{key:t,style:{padding:"2vh"}},[Object(r["i"])("button",l,Object(r["J"])(e.text),1)])})),128))])):Object(r["g"])("",!0)],10,s)})),128))])])])}n("b64b");var g={name:"Table",props:{hover:{type:Boolean,default:!1},rows:Array,functions:{type:Array,default:[]},isHeader:{type:Boolean,default:!0},contain:{type:Array,default:[]},innerRow:{type:Array,default:[]},rowClickFunction:{type:Function,default:function(){}}},computed:{columns:function(){return 0==this.rows.length?[]:Object.keys(this.rows[0])},containColumn:function(){return 0==this.rows.length||0!=this.contain.length?this.contain:Object.keys(this.rows[0])}},methods:{functionEvent:function(e){return this.functions[e].event?this.functions[e].event:null},rowClickEvent:function(e){this.rowClickFunction(e)}}},d=(n("b02a"),n("6b0d")),f=n.n(d);const O=f()(g,[["render",b],["__scopeId","data-v-6737075d"]]);t["a"]=O},"12ae":function(e,t,n){e.exports=n.p+"img/loading.a4f2cb80.gif"},1384:function(e,t,n){"use strict";var r=n("d4ec"),c=n("bee2"),a=n("bc3a"),i=n.n(a),o=n("853f"),s="http://153.92.210.249:3000/api/v1/driver",u=function(){function e(){Object(r["a"])(this,e)}return Object(c["a"])(e,[{key:"getDrivers",value:function(e){return console.log("Page:",e),i.a.get(s+"/available/"+e,{headers:Object(o["a"])()})}},{key:"getSingleDriver",value:function(e){return i.a.get(s+"/admin/"+e,{headers:Object(o["a"])()})}},{key:"getUnoccupiedDriver",value:function(e){return i.a.get(s+"/available/"+e,{headers:Object(o["a"])()})}},{key:"assignDriver",value:function(e){return i.a.post(s+"/assign",e,{headers:Object(o["a"])()})}}]),e}();t["a"]=new u},2532:function(e,t,n){"use strict";var r=n("23e7"),c=n("e330"),a=n("5a34"),i=n("1d80"),o=n("577e"),s=n("ab13"),u=c("".indexOf);r({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~u(o(i(this)),o(a(e)),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,n){"use strict";var r=n("e330"),c=n("5e77").PROPER,a=n("6eeb"),i=n("825a"),o=n("3a9b"),s=n("577e"),u=n("d039"),l=n("ad6d"),b="toString",g=RegExp.prototype,d=g[b],f=r(l),O=u((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),j=c&&d.name!=b;(O||j)&&a(RegExp.prototype,b,(function(){var e=i(this),t=s(e.source),n=e.flags,r=s(void 0===n&&o(g,e)&&!("flags"in g)?f(e):n);return"/"+t+"/"+r}),{unsafe:!0})},"44e7":function(e,t,n){var r=n("861d"),c=n("c6b6"),a=n("b622"),i=a("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==c(e))}},"5a34":function(e,t,n){var r=n("da84"),c=n("44e7"),a=r.TypeError;e.exports=function(e){if(c(e))throw a("The method doesn't accept regular expressions");return e}},"853f":function(e,t,n){"use strict";function r(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{"x-access-token":e.token}:{}}n.d(t,"a",(function(){return r}))},ab13:function(e,t,n){var r=n("b622"),c=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[c]=!1,"/./"[e](t)}catch(r){}}return!1}},adb0:function(e,t,n){},b02a:function(e,t,n){"use strict";n("ee1f")},b758:function(e,t,n){"use strict";var r=n("7a23"),c=n("12ae"),a=n.n(c),i={src:a.a,alt:"logo",height:"80"};function o(e,t,n,c,a,o){return Object(r["R"])((Object(r["y"])(),Object(r["h"])("img",i,null,512)),[[r["O"],n.active]])}var s={name:"LoadingIndicator",props:{active:Boolean}},u=n("6b0d"),l=n.n(u);const b=l()(s,[["render",o]]);t["a"]=b},ce2f:function(e,t,n){"use strict";var r=n("7a23"),c=function(e){return Object(r["B"])("data-v-53bba04f"),e=e(),Object(r["z"])(),e},a={class:"text-center my-2",style:{"font-weight":"bold"}},i={class:"d-flex"},o=c((function(){return Object(r["i"])("i",{class:"fa fa-arrow-left","aria-hidden":"true"},null,-1)})),s=[o],u=["onClick"],l={class:"mx-3"},b=c((function(){return Object(r["i"])("i",{class:"fa fa-arrow-right","aria-hidden":"true"},null,-1)})),g=[b];function d(e,t,n,c,o,b){var d=this;return Object(r["y"])(),Object(r["h"])("div",null,[Object(r["i"])("div",a,Object(r["J"])(e.$t("page_navigator_name"))+" ("+Object(r["J"])(n.pages)+" ) ",1),Object(r["i"])("div",i,[Object(r["i"])("div",{onClick:t[0]||(t[0]=function(){d.$emit("goto-first")}),class:"mx-3",style:{cursor:"pointer"}}," First "),Object(r["i"])("div",{style:{cursor:"pointer"},onClick:t[1]||(t[1]=function(){return b.prevPage&&b.prevPage.apply(b,arguments)})},s),(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(b.pagesTrim(n.pages,n.current_page,4),(function(e){return Object(r["y"])(),Object(r["h"])("div",{class:Object(r["s"])(["mx-3",e==n.current_page?"current-page":""]),key:e,style:{cursor:"pointer"},onClick:function(t){return b.clickPage(e)}},Object(r["J"])(e),11,u)})),128)),Object(r["R"])(Object(r["i"])("div",l,"...",512),[[r["O"],n.pages>10&&n.current_page+5<n.pages]]),Object(r["i"])("div",{style:{cursor:"pointer"},onClick:t[2]||(t[2]=function(){return b.nextPage&&b.nextPage.apply(b,arguments)})},g),Object(r["i"])("div",{onClick:t[3]||(t[3]=function(){d.$emit("goto-last")}),class:"mx-3",style:{cursor:"pointer"}}," Last ")])])}n("a9e3");var f={name:"Page Navigator",props:{pages:{type:Number,default:0},current_page:{type:Number,default:0}},methods:{clickPage:function(e){this.$emit("click-page",e)},nextPage:function(){this.$emit("next-page")},prevPage:function(){this.$emit("prev-page")},pagesTrim:function(e,t,n){if(e>10){for(var r=[],c=t-n;c<t+n;c++)if(!(c<1)){if(c>e)break;r.push(c)}return console.log("trim_pages",r,"pages",e),console.log("current_page",t,"limit",n),r}return e}}},O=(n("02c9"),n("6b0d")),j=n.n(O);const p=j()(f,[["render",d],["__scopeId","data-v-53bba04f"]]);t["a"]=p},ee1f:function(e,t,n){},f123:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),c={class:"theme-dashboard-view"},a=Object(r["i"])("h1",null,"Drivers",-1),i={class:"d-flex justify-content-center"},o={class:"justify-content-center text-center text-danger my-4"},s={class:"my-4"},u=Object(r["j"])(" ID "),l=Object(r["j"])(" First Name "),b=Object(r["j"])(" Last Name "),g=Object(r["j"])(" Phone Number "),d=Object(r["j"])(" Date Of Birth "),f={class:"d-flex justify-content-center"};function O(e,t,n,O,j,p){var h=Object(r["G"])("LoadingIndicator"),v=Object(r["G"])("Table"),y=Object(r["G"])("PageNav");return Object(r["y"])(),Object(r["h"])("div",c,[a,Object(r["i"])("div",i,[Object(r["k"])(h,{active:j.loading},null,8,["active"])]),Object(r["R"])(Object(r["i"])("div",null,[Object(r["i"])("div",o,[Object(r["i"])("h4",null,Object(r["J"])(j.load_error),1)])],512),[[r["O"],j.load_error]]),Object(r["R"])(Object(r["i"])("div",s,[Object(r["k"])(v,{rows:j.drivers_data,contain:["id","firstName","lastName","phoneNumber","dateOfBirth"]},{"id-title":Object(r["Q"])((function(){return[u]})),"firstName-title":Object(r["Q"])((function(){return[l]})),"lastName-title":Object(r["Q"])((function(){return[b]})),"phoneNumber-title":Object(r["Q"])((function(){return[g]})),"dateOfBirth-title":Object(r["Q"])((function(){return[d]})),_:1},8,["rows"]),Object(r["i"])("div",f,[Object(r["k"])(y,{pages:j.pages,current_page:j.current_page,onClickPage:p.getDrivers,onNextPage:p.nextPage,onPrevPage:p.prevPage,onGotoFirst:p.gotoFirstPage,onGotoLast:p.gotoLastPage},null,8,["pages","current_page","onClickPage","onNextPage","onPrevPage","onGotoFirst","onGotoLast"])])],512),[[r["O"],!j.loading]])])}n("d3b7"),n("25f0");var j=n("0748"),p=n("b758"),h=n("ce2f"),v=n("1384"),y={name:"Drivers",components:{Table:j["a"],LoadingIndicator:p["a"],PageNav:h["a"]},data:function(){return{loading:!1,load_error:"",drivers_data:[],current_page:1,pages:1}},methods:{nextPage:function(){this.current_page!=this.pages&&this.getDrivers(this.current_page+1)},prevPage:function(){1!=this.current_page&&this.getDrivers(this.current_page-1)},gotoFirstPage:function(){1!=this.current_page&&this.getDrivers(1)},gotoLastPage:function(){this.current_page!=this.pages&&this.getDrivers(this.pages)},getDrivers:function(e){var t=this;this.loading=!0,this.load_error="",v["a"].getDrivers(e).then((function(n){t.loading=!1,t.current_page=e,console.log(n),t.drivers_data=n.data.data.drivers,t.pages=n.data.data.total_pages}),(function(e){t.loading=!1,console.log("FAIL"),t.load_error=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))}},mounted:function(){this.getDrivers(1)}},m=n("6b0d"),k=n.n(m);const _=k()(y,[["render",O]]);t["default"]=_}}]);
//# sourceMappingURL=chunk-7d384a89.d2bc9d97.js.map