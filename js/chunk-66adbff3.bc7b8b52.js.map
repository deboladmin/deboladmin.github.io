{"version":3,"sources":["webpack:///./src/services/admin.js","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/core-js/modules/es.string.match.js","webpack:///./src/helpers/auth-header.js","webpack:///./src/views/ForgotPassword.vue","webpack:///./src/views/ForgotPassword.vue?90d5"],"names":["API_ADMIN_URL","process","AdminService","id","axios","get","headers","authHeader","email","post","data","put","password","patch","uncurryThis","PROPER_FUNCTION_NAME","PROPER","redefine","anObject","isPrototypeOf","$toString","fails","regExpFlags","TO_STRING","RegExpPrototype","RegExp","prototype","n$ToString","getFlags","NOT_GENERIC","call","source","flags","INCORRECT_NAME","name","R","this","p","rf","f","undefined","unsafe","fixRegExpWellKnownSymbolLogic","toLength","toString","requireObjectCoercible","getMethod","advanceStringIndex","regExpExec","MATCH","nativeMatch","maybeCallNative","regexp","O","matcher","string","rx","S","res","done","value","global","fullUnicode","unicode","lastIndex","result","A","n","matchStr","user","JSON","parse","localStorage","getItem","token","class","error","type","placeholder","style","screen","new_password","to","methods","validateEmail","length","re","match","validatePassword","passwordReset","console","log","forgotPassword","then","response","message","__exports__","render"],"mappings":"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","file":"js/chunk-66adbff3.bc7b8b52.js","sourcesContent":["import axios from \"axios\";\r\nimport authHeader from \"../helpers/auth-header\";\r\n\r\nconst API_ADMIN_URL = process.env.VUE_APP_API_URL + \"admin\";\r\n\r\nclass AdminService {\r\n\tgetAdmin(id) {\r\n\t\treturn axios.get(API_ADMIN_URL + \"/\" + id, { headers: authHeader() });\r\n\t}\r\n\r\n\tgetAdminByEmail(email) {\r\n\t\treturn axios.post(\r\n\t\t\tAPI_ADMIN_URL + \"/email\",\r\n\t\t\t{ email: email },\r\n\t\t\t{ headers: authHeader() }\r\n\t\t);\r\n\t}\r\n\r\n\tupdateAdmin(id, data) {\r\n\t\treturn axios.put(API_ADMIN_URL + \"/\" + id, data, {\r\n\t\t\theaders: authHeader(),\r\n\t\t});\r\n\t}\r\n\r\n\tchangePassword(id, password) {\r\n\t\treturn axios.patch(\r\n\t\t\tAPI_ADMIN_URL + \"/\" + id + \"/password\",\r\n\t\t\t{ password: password },\r\n\t\t\t{ headers: authHeader() }\r\n\t\t);\r\n\t}\r\n\tforgotPassword(email, password) {\r\n\t\treturn axios.patch(API_ADMIN_URL + \"/forgot/password/\", {email:email, password:password});\r\n\t}\r\n}\r\n\r\nexport default new AdminService();\r\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar $toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar regExpFlags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar n$ToString = RegExpPrototype[TO_STRING];\nvar getFlags = uncurryThis(regExpFlags);\n\nvar NOT_GENERIC = fails(function () { return n$ToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = PROPER_FUNCTION_NAME && n$ToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = $toString(R.source);\n    var rf = R.flags;\n    var f = $toString(rf === undefined && isPrototypeOf(RegExpPrototype, R) && !('flags' in RegExpPrototype) ? getFlags(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar call = require('../internals/function-call');\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar getMethod = require('../internals/get-method');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.es/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : getMethod(regexp, MATCH);\n      return matcher ? call(matcher, regexp, O) : new RegExp(regexp)[MATCH](toString(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match\n    function (string) {\n      var rx = anObject(this);\n      var S = toString(string);\n      var res = maybeCallNative(nativeMatch, rx, S);\n\n      if (res.done) return res.value;\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = toString(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","\r\n// Checks if the token is stored on browser\r\nexport default function authHeader() {\r\n    let user = JSON.parse(localStorage.getItem('user'));\r\n    if (user && user.token) {\r\n      // for Node.js Express back-end\r\n      return { 'x-access-token': user.token };\r\n    } else {\r\n      return {};\r\n    }\r\n  }","<template>\r\n\t<div class=\"d-flex justify-content-center align-items-center h-100\">\r\n\t\t<div class=\"shadow-sm p-5\">\r\n\t\t\t<div class=\"p-2\">\r\n\t\t\t\t<h2>Forgot Your Password?</h2>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"text-center my-4\">\r\n\t\t\t\t<p class=\"text-danger text-center\">{{ error }}</p>\r\n\t\t\t\t<!-- Get Email -->\r\n\t\t\t\t<div v-show=\"screen == 0\">\r\n\t\t\t\t\t<p>Please enter the email you use to sign in to account</p>\r\n\t\t\t\t\t<div class=\"d-flex justify-content-center my-4\">\r\n\t\t\t\t\t\t<span class=\"border px-2 d-flex align-items-center\"\r\n\t\t\t\t\t\t\t><i class=\"fa fa-at\"></i\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\t\tclass=\"p-2 w-100\"\r\n\t\t\t\t\t\t\tv-model=\"email\"\r\n\t\t\t\t\t\t\tstyle=\"border: 1px solid #ccc\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"btn btn-outline-primary w-100\"\r\n\t\t\t\t\t\t@click=\"\r\n\t\t\t\t\t\t\t() => {\r\n\t\t\t\t\t\t\t\tif (validateEmail()) {\r\n\t\t\t\t\t\t\t\t\tscreen = 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tNext\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div v-show=\"screen == 1\">\r\n\t\t\t\t\t<p>Enter new password for account</p>\r\n\t\t\t\t\t<div class=\"my-4\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"new password\"\r\n\t\t\t\t\t\t\tclass=\"p-2 w-100\"\r\n\t\t\t\t\t\t\tv-model=\"new_password\"\r\n\t\t\t\t\t\t\tstyle=\"border: 1px solid #ccc\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"btn btn-outline-primary w-100\"\r\n\t\t\t\t\t\t@click=\"\r\n\t\t\t\t\t\t\t() => {\r\n\t\t\t\t\t\t\t\tif (validatePassword()) {\r\n\t\t\t\t\t\t\t\t\tpasswordReset();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tRequest Password Reset\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div v-show=\"screen == 2\"></div>\r\n\t\t\t</div>\r\n            <router-link to=\"/login\">\r\n                <p class=\"text-center\">Back to login</p>\r\n            </router-link>\r\n            \r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport AdminService from \"@/services/admin\";\r\n\r\nexport default {\r\n\tname: \"ForgotPassword\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t// Screen 0 - Email\r\n\t\t\t// Screen 1 - Password\r\n\t\t\t// Screen 2 - Processing\r\n\t\t\tscreen: 0,\r\n\t\t\terror: \"\",\r\n\r\n\t\t\temail: \"\",\r\n\t\t\tnew_password: \"\",\r\n\t\t};\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tvalidateEmail() {\r\n\t\t\tif (this.email.length == 0) {\r\n\t\t\t\tthis.error = \"email cannot be empty\";\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tconst re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\n\t\t\tif (this.email.match(re) == null) {\r\n\t\t\t\tthis.error = \"email is not a proper email\";\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\tvalidatePassword() {\r\n\t\t\tif (this.new_password.length == 0) {\r\n\t\t\t\tthis.error = \"password cannot be empty\";\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.new_password.length < 8) {\r\n\t\t\t\tthis.error = \"password needs be 8 characters long\";\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\tpasswordReset() {\r\n\t\t\tconsole.log(\"Password reset\");\r\n\t\t\tAdminService.forgotPassword(this.email, this.new_password).then(\r\n\t\t\t\t(response) => {\r\n\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t},\r\n\t\t\t\t(error) => {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\tthis.error =\r\n\t\t\t\t\t\t(error.response &&\r\n\t\t\t\t\t\t\terror.response.data &&\r\n\t\t\t\t\t\t\terror.response.data.message) ||\r\n\t\t\t\t\t\terror.message ||\r\n\t\t\t\t\t\terror.toString();\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n};\r\n</script>","import { render } from \"./ForgotPassword.vue?vue&type=template&id=edb6348c\"\nimport script from \"./ForgotPassword.vue?vue&type=script&lang=js\"\nexport * from \"./ForgotPassword.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Work\\\\Yaltopia\\\\ecom_app_admin\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}