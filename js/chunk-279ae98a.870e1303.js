(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-279ae98a"],{"22dc":function(e,t,n){"use strict";var a=n("d4ec"),s=n("bee2"),i=n("bc3a"),c=n.n(i),l=n("853f"),o="http://153.92.210.249:3000/api/v1/admin",u=function(){function e(){Object(a["a"])(this,e)}return Object(s["a"])(e,[{key:"getAdmin",value:function(e){return c.a.get(o+"/"+e,{headers:Object(l["a"])()})}},{key:"getAdminByEmail",value:function(e){return c.a.post(o+"/email",{email:e},{headers:Object(l["a"])()})}},{key:"updateAdmin",value:function(e,t){return c.a.put(o+"/"+e,t,{headers:Object(l["a"])()})}},{key:"changePassword",value:function(e,t){return c.a.patch(o+"/"+e+"/password",{password:t},{headers:Object(l["a"])()})}},{key:"forgotPassword",value:function(e,t){return c.a.patch(o+"/forgot/password/",{email:e,password:t})}}]),e}();t["a"]=new u},3650:function(e,t,n){"use strict";n("e7ad")},3905:function(e,t,n){"use strict";var a=n("7a23"),s=function(e){return Object(a["B"])("data-v-ccb7509c"),e=e(),Object(a["z"])(),e},i={class:"popup-background"},c={class:"popup-header d-flex justify-content-between p-4"},l=s((function(){return Object(a["i"])("i",{class:"fa fa-window-close","aria-hidden":"true"},null,-1)})),o=[l],u={class:"popup-body"},r={class:"popup-footer"};function b(e,t,n,s,l,b){return Object(a["R"])((Object(a["y"])(),Object(a["h"])("div",i,[Object(a["i"])("div",{class:"popup",style:Object(a["t"])({height:n.height+"px",width:n.width+"px"})},[Object(a["i"])("div",c,[Object(a["i"])("span",null,[Object(a["i"])("h3",null,Object(a["J"])(n.title),1)]),Object(a["i"])("span",{onClick:t[0]||(t[0]=function(){return b.closePopup&&b.closePopup.apply(b,arguments)}),class:"closeButton"},o)]),Object(a["i"])("div",u,[Object(a["F"])(e.$slots,"body",{},void 0,!0)]),Object(a["i"])("div",r,[Object(a["F"])(e.$slots,"footer",{},void 0,!0)])],4)],512)),[[a["O"],l.PopupActive]])}n("a9e3");var d={name:"Popup",props:{title:{type:String,default:""},width:{type:Number,default:600},height:{type:Number,default:300}},data:function(){return{PopupActive:!1}},methods:{closePopup:function(){this.PopupActive=!1},showPopup:function(){this.PopupActive=!0}}},p=(n("8215"),n("6b0d")),m=n.n(p);const f=m()(d,[["render",b],["__scopeId","data-v-ccb7509c"]]);t["a"]=f},"5be8":function(e,t,n){},8215:function(e,t,n){"use strict";n("5be8")},"853f":function(e,t,n){"use strict";function a(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{"x-access-token":e.token}:{}}n.d(t,"a",(function(){return a}))},e7ad:function(e,t,n){},f94b:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),s=function(e){return Object(a["B"])("data-v-1e994193"),e=e(),Object(a["z"])(),e},i={class:"theme-dashboard-view"},c={class:"border p-4",style:{"min-height":"550px"}},l={class:"p-3"},o={class:"d-flex p-4"},u=s((function(){return Object(a["i"])("div",{class:"col-sm-6 col-md-4 col-lg-3"},[Object(a["i"])("span",{class:"p-2",style:{"font-size":"20px"}},[Object(a["i"])("i",{class:"fa fa-user","aria-hidden":"true"})]),Object(a["i"])("span",{class:"mx-2"},[Object(a["i"])("strong",null,"First Name")])],-1)})),r={class:"col-sm-6 col-md-8 col-lg-9 d-flex"},b={class:"d-flex p-4"},d=s((function(){return Object(a["i"])("div",{class:"col-sm-6 col-md-4 col-lg-3"},[Object(a["i"])("span",{class:"p-2",style:{"font-size":"20px"}},[Object(a["i"])("i",{class:"fa fa-user","aria-hidden":"true"})]),Object(a["i"])("span",{class:"mx-2"},[Object(a["i"])("strong",null,"Second Name")])],-1)})),p={class:"col-sm-6 col-md-8 col-lg-9 d-flex"},m={class:"d-flex p-4"},f=s((function(){return Object(a["i"])("div",{class:"col-sm-6 col-md-4 col-lg-3"},[Object(a["i"])("span",{class:"p-2",style:{"font-size":"20px"}},[Object(a["i"])("i",{class:"fa fa-at","aria-hidden":"true"})]),Object(a["i"])("span",{class:"mx-2"},[Object(a["i"])("strong",null,"Email")])],-1)})),O={class:"col-sm-6 col-md-8 col-lg-9 d-flex"},j={class:"d-flex p-4"},h=s((function(){return Object(a["i"])("div",{class:"col-sm-6 col-md-4 col-lg-3"},[Object(a["i"])("span",{class:"p-2",style:{"font-size":"20px"}},[Object(a["i"])("i",{class:"fa fa-lock","aria-hidden":"true"})]),Object(a["i"])("span",{class:"mx-2"},[Object(a["i"])("strong",null,"Password")])],-1)})),g={class:"col-sm-6 col-md-8 col-lg-9"},w={class:"border p-4"},N=s((function(){return Object(a["i"])("div",null,[Object(a["i"])("p",{style:{"font-weight":"bold"}},"Change Password")],-1)})),_={class:"d-flex justify-content-between my-2"},v=s((function(){return Object(a["i"])("span",{class:"me-4"},"New Password",-1)})),y={class:"d-flex justify-content-center"},x={class:"d-flex p-4"},P=s((function(){return Object(a["i"])("div",{class:"col-sm-6 col-md-4 col-lg-3"},[Object(a["i"])("span",{class:"p-2",style:{"font-size":"20px"}},[Object(a["i"])("i",{class:"fa fa-phone","aria-hidden":"true"})]),Object(a["i"])("span",{class:"mx-2"},[Object(a["i"])("strong",null,"Phone Number")])],-1)})),k={class:"col-sm-6 col-md-8 col-lg-9"},C={class:"d-flex p-4"},R={class:"col-sm-6 col-md-4 col-lg-3"},A=s((function(){return Object(a["i"])("span",{class:"p-2",style:{"font-size":"20px"}},[Object(a["i"])("i",{class:"fa fa-language","aria-hidden":"true"})],-1)})),S={class:"mx-2"},B={class:"col-sm-6 col-md-8 col-lg-9"},$={value:"en"},J={value:"amh"};function U(e,t,n,s,U,z){var F=this,E=Object(a["G"])("Popup");return Object(a["y"])(),Object(a["h"])("div",i,[Object(a["i"])("h1",null,Object(a["J"])(e.$t("settings_title")),1),Object(a["i"])("div",c,[Object(a["i"])("div",l,[Object(a["i"])("h4",null,Object(a["J"])(e.$t("settings_general_title")),1)]),Object(a["i"])("div",o,[u,Object(a["i"])("span",r,[Object(a["R"])(Object(a["i"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return U.firstName_new=e}),class:Object(a["s"])(["admin-field-input p-2",{"admin-field-change":U.firstName_new!=U.firstName}])},null,2),[[a["N"],U.firstName_new]]),Object(a["R"])(Object(a["i"])("button",{class:"btn btn-primary mx-2",onClick:t[1]||(t[1]=function(){U.firstName=U.firstName_new,z.updateAdmin()})}," Submit ",512),[[a["O"],U.firstName_new!=U.firstName]]),Object(a["R"])(Object(a["i"])("button",{class:"btn btn-outline-secondary mx-2",onClick:t[2]||(t[2]=function(){U.firstName_new=U.firstName})}," Cancel ",512),[[a["O"],U.firstName_new!=U.firstName]])])]),Object(a["i"])("div",b,[d,Object(a["i"])("span",p,[Object(a["R"])(Object(a["i"])("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return U.lastName_new=e}),class:Object(a["s"])(["admin-field-input p-2",{"admin-field-change":U.lastName_new!=U.lastName}])},null,2),[[a["N"],U.lastName_new]]),Object(a["R"])(Object(a["i"])("button",{class:"btn btn-primary mx-2",onClick:t[4]||(t[4]=function(){U.lastName=U.lastName_new,z.updateAdmin()})}," Submit ",512),[[a["O"],U.lastName_new!=U.lastName]]),Object(a["R"])(Object(a["i"])("button",{class:"btn btn-outline-secondary mx-2",onClick:t[5]||(t[5]=function(){U.lastName_new=U.lastName})}," Cancel ",512),[[a["O"],U.lastName_new!=U.lastName]])])]),Object(a["i"])("div",m,[f,Object(a["i"])("span",O,[Object(a["R"])(Object(a["i"])("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=function(e){return U.email_new=e}),class:Object(a["s"])(["admin-field-input p-2",{"admin-field-change":U.email_new!=U.email}])},null,2),[[a["N"],U.email_new]]),Object(a["R"])(Object(a["i"])("button",{class:"btn btn-primary mx-2",onClick:t[7]||(t[7]=function(){U.email=U.email_new,z.updateAdmin()})}," Submit ",512),[[a["O"],U.email_new!=U.email]]),Object(a["R"])(Object(a["i"])("button",{class:"btn btn-outline-secondary mx-2",onClick:t[8]||(t[8]=function(){U.email_new=U.email})}," Cancel ",512),[[a["O"],U.email_new!=U.email]])])]),Object(a["i"])("div",j,[h,Object(a["i"])("span",g,[Object(a["i"])("button",{class:"btn btn-danger",onClick:t[9]||(t[9]=function(){F.$refs.PasswordChangeForm.showPopup()})}," Change Password ")])]),Object(a["k"])(E,{ref:"PasswordChangeForm",title:"Password Change Form"},{body:Object(a["Q"])((function(){return[Object(a["i"])("div",w,[N,Object(a["i"])("div",_,[v,Object(a["i"])("span",null,[Object(a["R"])(Object(a["i"])("input",{type:"password",class:"p-1","onUpdate:modelValue":t[10]||(t[10]=function(e){return U.password=e})},null,512),[[a["N"],U.password]])])])])]})),footer:Object(a["Q"])((function(){return[Object(a["i"])("div",y,[Object(a["i"])("button",{class:"btn btn-primary",onClick:t[11]||(t[11]=function(){return z.changePassword&&z.changePassword.apply(z,arguments)})}," Submit ")])]})),_:1},512),Object(a["i"])("div",x,[P,Object(a["i"])("span",k,[Object(a["R"])(Object(a["i"])("input",{type:"text","onUpdate:modelValue":t[12]||(t[12]=function(e){return U.phoneNumber_new=e}),class:Object(a["s"])(["p-2 admin-field-input",{"admin-field-change":U.phoneNumber_new!=U.phoneNumber}])},null,2),[[a["N"],U.phoneNumber_new]]),Object(a["R"])(Object(a["i"])("button",{class:"btn btn-primary mx-2",onClick:t[13]||(t[13]=function(){U.phoneNumber=U.phoneNumber_new,z.updateAdmin()})}," Submit ",512),[[a["O"],U.phoneNumber_new!=U.phoneNumber]]),Object(a["R"])(Object(a["i"])("button",{class:"btn btn-outline-secondary mx-2",onClick:t[14]||(t[14]=function(){U.phoneNumber_new=U.phoneNumber})}," Cancel ",512),[[a["O"],U.phoneNumber_new!=U.phoneNumber]])])]),Object(a["i"])("div",C,[Object(a["i"])("div",R,[A,Object(a["i"])("span",S,[Object(a["i"])("strong",null,Object(a["J"])(e.$t("settings_general_language_title")),1)])]),Object(a["i"])("span",B,[Object(a["R"])(Object(a["i"])("select",{class:"px-3 py-2",style:{width:"150px"},"onUpdate:modelValue":t[15]||(t[15]=function(e){return U.lang_setting=e}),onChange:t[16]||(t[16]=function(){return z.languageChange&&z.languageChange.apply(z,arguments)})},[Object(a["i"])("option",$,Object(a["J"])(e.$t("settings_general_language_english")),1),Object(a["i"])("option",J,Object(a["J"])(e.$t("settings_general_language_amharic")),1)],544),[[a["M"],U.lang_setting]])])])])])}var z=n("5530"),F=n("5502"),E=n("3905"),V=n("22dc"),I={name:"Settings",data:function(){return{lang_setting:"en",id:0,email:"",firstName:"",lastName:"",phoneNumber:"",dateOfBirth:"",password:"",email_new:"",firstName_new:"",lastName_new:"",phoneNumber_new:"",dateOfBirth_new:""}},components:{Popup:E["a"]},methods:{languageChange:function(){this.$store.dispatch("settings/setLanguage",this.lang_setting),this.$i18n.locale=this.lang_setting},resetAdminUser:function(){this.email_new=this.email,this.firstName_new=this.firstName,this.lastName_new=this.lastName,this.phoneNumber_new=this.phoneNumber,this.dateOfBirth_new=this.dateOfBirth},updateAdmin:function(){V["a"].updateAdmin(this.id,{firstName:this.firstName,lastName:this.lastName,email:this.email,phoneNumber:this.phoneNumber}).then((function(e){console.log(e)}),(function(e){console.log(e)}))},changePassword:function(){var e=this;V["a"].changePassword(this.id,this.password).then((function(t){console.log(t),e.$refs.PasswordChangeForm.closePopup()}),(function(e){console.log(e.response)}))}},computed:Object(z["a"])({},Object(F["b"])({settings:"settings/allSettings",admin_user:"auth/getUser"})),mounted:function(){var e=this;this.lang_setting=this.settings.language,V["a"].getAdminByEmail(this.admin_user.email).then((function(t){console.log("RESPONSE",t);var n=t.data.data;e.id=n.id,e.email=n.email,e.firstName=n.firstName,e.lastName=n.lastName,e.phoneNumber=n.phoneNumber,e.dateOfBirth=n.dateOfBirth,e.resetAdminUser()}),(function(e){console.log("ERROR",e)}))}},Q=(n("3650"),n("6b0d")),G=n.n(Q);const L=G()(I,[["render",U],["__scopeId","data-v-1e994193"]]);t["default"]=L}}]);
//# sourceMappingURL=chunk-279ae98a.870e1303.js.map