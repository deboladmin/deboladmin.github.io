(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64100fdf"],{"02c9":function(e,t,c){"use strict";c("adb0")},"0748":function(e,t,c){"use strict";c("caad"),c("2532");var r=c("7a23"),n={class:"table-responsive"},a={class:"table",style:{border:"none"}},o={key:0,style:{padding:"2vh"}},s={style:{border:"none"}},i=["onClick"],l={key:0,style:{padding:"0"}},u={class:"btn p-2"};function b(e,t,c,b,d,h){return Object(r["y"])(),Object(r["h"])("div",n,[Object(r["i"])("table",a,[Object(r["i"])("thead",null,[Object(r["i"])("tr",null,[(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(h.columns,(function(t,c){return Object(r["R"])((Object(r["y"])(),Object(r["h"])("th",{scope:"col",key:c,class:"bg-light",style:{padding:"2vh"}},[Object(r["F"])(e.$slots,t+"-title",{col:t},(function(){return[Object(r["j"])(Object(r["J"])(t),1)]}),!0)],512)),[[r["O"],h.containColumn.includes(t)]])})),128)),c.functions.length>0&&c.rows.length>0?(Object(r["y"])(),Object(r["h"])("th",o," Functions ")):Object(r["g"])("",!0)])]),Object(r["i"])("tbody",s,[(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(c.rows,(function(t,n){return Object(r["y"])(),Object(r["h"])("tr",{key:n,class:Object(r["s"])(c.hover?"hover":""),onClick:function(e){return h.rowClickEvent(n)}},[(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(h.columns,(function(c,n){return Object(r["R"])((Object(r["y"])(),Object(r["h"])("td",{key:n,style:{padding:"2vh"}},[Object(r["F"])(e.$slots,c,{row:t},(function(){return[Object(r["j"])(Object(r["J"])(t[c]),1)]}),!0)],512)),[[r["O"],h.containColumn.includes(c)]])})),128)),c.functions.length>0?(Object(r["y"])(),Object(r["h"])("div",l,[(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(c.functions,(function(e,t){return Object(r["y"])(),Object(r["h"])("td",{key:t,style:{padding:"2vh"}},[Object(r["i"])("button",u,Object(r["J"])(e.text),1)])})),128))])):Object(r["g"])("",!0)],10,i)})),128))])])])}c("b64b");var d={name:"Table",props:{hover:{type:Boolean,default:!1},rows:Array,functions:{type:Array,default:[]},isHeader:{type:Boolean,default:!0},contain:{type:Array,default:[]},innerRow:{type:Array,default:[]},rowClickFunction:{type:Function,default:function(){}}},computed:{columns:function(){return 0==this.rows.length?[]:Object.keys(this.rows[0])},containColumn:function(){return 0==this.rows.length||0!=this.contain.length?this.contain:Object.keys(this.rows[0])}},methods:{functionEvent:function(e){return this.functions[e].event?this.functions[e].event:null},rowClickEvent:function(e){this.rowClickFunction(e)}}},h=(c("b02a"),c("6b0d")),g=c.n(h);const p=g()(d,[["render",b],["__scopeId","data-v-6737075d"]]);t["a"]=p},"12ae":function(e,t,c){e.exports=c.p+"img/loading.a4f2cb80.gif"},"16a4":function(e,t,c){"use strict";var r=c("d4ec"),n=c("bee2"),a=c("bc3a"),o=c.n(a),s=c("853f"),i="http://153.92.210.249:3000/api/v1/category",l=function(){function e(){Object(r["a"])(this,e)}return Object(n["a"])(e,[{key:"getCategories",value:function(e){return o.a.get(i+"/admin/paginated/"+e,{headers:Object(s["a"])()})}},{key:"getSingleCategory",value:function(e){return o.a.get(i+"/admin/"+e,{headers:Object(s["a"])()})}},{key:"createCategory",value:function(e){return o.a.post(i+"/",e,{headers:Object(s["a"])()})}},{key:"updateCategory",value:function(e,t){return o.a.put(i+"/"+e,t,{headers:Object(s["a"])()})}},{key:"deleteCategory",value:function(e){return o.a.delete(i+"/"+e,{headers:Object(s["a"])()})}}]),e}();t["a"]=new l},2532:function(e,t,c){"use strict";var r=c("23e7"),n=c("e330"),a=c("5a34"),o=c("1d80"),s=c("577e"),i=c("ab13"),l=n("".indexOf);r({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~l(s(o(this)),s(a(e)),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,c){"use strict";var r=c("e330"),n=c("5e77").PROPER,a=c("6eeb"),o=c("825a"),s=c("3a9b"),i=c("577e"),l=c("d039"),u=c("ad6d"),b="toString",d=RegExp.prototype,h=d[b],g=r(u),p=l((function(){return"/a/b"!=h.call({source:"a",flags:"b"})})),O=n&&h.name!=b;(p||O)&&a(RegExp.prototype,b,(function(){var e=o(this),t=i(e.source),c=e.flags,r=i(void 0===c&&s(d,e)&&!("flags"in d)?g(e):c);return"/"+t+"/"+r}),{unsafe:!0})},3809:function(e,t,c){"use strict";c.r(t);c("b0c0"),c("b64b");var r=c("7a23"),n={class:"theme-dashboard-view"},a={class:"my-3 p-3 shadow-sm border"},o={class:"d-flex w-100"},s=Object(r["i"])("i",{class:"fa fa-filter","aria-hidden":"true"},null,-1),i={class:"mx-2",style:{width:"15vh"}},l={class:"col-10 d-flex align-items-center px-2"},u={class:"col-md-8 col-sm-12 border d-flex"},b=Object(r["i"])("option",{value:"product"},"Products",-1),d=Object(r["i"])("option",{value:"category"},"Categories",-1),h=[b,d],g={class:"col-4 p-3"},p=Object(r["i"])("strong",null,"Tags",-1),O={class:"d-flex flex-wrap",style:{"max-height":"110px","overflow-y":"auto"}},j=Object(r["i"])("i",{class:"fa fa-plus","aria-hidden":"true"},null,-1),y=[j],f={class:"col-4 p-3"},v=Object(r["i"])("strong",null,"Price Range",-1),m={class:"d-flex my-2"},x=Object(r["i"])("label",{class:"col-2"},"Smallest",-1),_={class:"d-flex my-2"},k=Object(r["i"])("label",{class:"col-2"},"Highest",-1),P={class:"col-4 p-3"},S=Object(r["i"])("strong",null,"Category",-1),w=Object(r["i"])("option",{value:0,selected:""},"None",-1),C=["value"],T={class:"d-flex justify-content-center"},R={class:"justify-content-center text-center text-danger my-4"},$={key:0,class:"my-4"},J={key:0,class:"border my-3"},F={class:"py-4 bg-light m-0 text-center"},N={class:"py-5 px-3 my-3 text-danger text-center"},E={key:0,class:"d-flex justify-content-center p-2"},L={key:1,class:"border my-3"},q={class:"py-3 bg-light m-0 text-center"},U={class:"py-5 px-3 my-3 text-danger text-center"},G={key:0,class:"d-flex justify-content-center p-2"};function V(e,t,c,b,d,j){var V=Object(r["G"])("LoadingIndicator"),H=Object(r["G"])("Table"),I=Object(r["G"])("PageNav");return Object(r["y"])(),Object(r["h"])("div",n,[Object(r["i"])("h1",null,Object(r["J"])(e.$t("inventory_search_title")),1),Object(r["i"])("div",a,[Object(r["i"])("div",o,[Object(r["i"])("span",{class:Object(r["s"])(["mx-2 p-2 rounded d-flex align-items-center col-2",{border:d.ShowFilters,"bg-light":d.ShowFilters}]),onClick:t[0]||(t[0]=function(){d.ShowFilters=!d.ShowFilters}),style:{cursor:"pointer"}},[s,Object(r["i"])("span",i,Object(r["J"])(e.$t("inventory_search_bar_filter_button")),1)],2),Object(r["i"])("div",l,[Object(r["i"])("div",u,[Object(r["R"])(Object(r["i"])("input",{type:"search",placeholder:"Search",style:{border:"none"},class:"p-2 w-100","onUpdate:modelValue":t[1]||(t[1]=function(e){return d.queryText=e}),onKeydown:t[2]||(t[2]=Object(r["S"])((function(){return j.SearchProduct&&j.SearchProduct.apply(j,arguments)}),["enter"]))},null,544),[[r["N"],d.queryText]]),Object(r["R"])(Object(r["i"])("select",{class:"form-group",style:{border:"none"},"onUpdate:modelValue":t[3]||(t[3]=function(e){return d.searchType=e})},h,512),[[r["M"],d.searchType]]),Object(r["i"])("button",{class:"btn border theme-background-primary text-light p-2",onClick:t[4]||(t[4]=function(){return j.SearchProduct&&j.SearchProduct.apply(j,arguments)})},Object(r["J"])(e.$t("inventory_search_bar_button_name")),1)])])]),Object(r["i"])("div",{class:Object(r["s"])(["my-2 d-flex",{"d-flex":d.ShowFilters,"d-none":!d.ShowFilters}]),style:{height:"250px"}},[Object(r["i"])("div",g,[p,Object(r["i"])("div",O,[(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(d.searchTags,(function(e,t){return Object(r["y"])(),Object(r["h"])("div",{key:t,class:"border p-2 mx-2 my-1"},Object(r["J"])(e),1)})),128))]),Object(r["i"])("div",null,[Object(r["R"])(Object(r["i"])("input",{type:"text",onKeydown:t[5]||(t[5]=Object(r["S"])((function(){d.searchTags.push(d.tagText)}),["enter"])),"onUpdate:modelValue":t[6]||(t[6]=function(e){return d.tagText=e})},null,544),[[r["N"],d.tagText]]),Object(r["i"])("button",{onClick:t[7]||(t[7]=function(){d.searchTags.push(d.tagText)})},y)])]),Object(r["i"])("div",f,[v,Object(r["i"])("div",m,[x,Object(r["R"])(Object(r["i"])("input",{class:"col-5 p-2",type:"Number",placeholder:"Smallest Price","onUpdate:modelValue":t[8]||(t[8]=function(e){return d.searchPriceSmallest=e})},null,512),[[r["N"],d.searchPriceSmallest]])]),Object(r["i"])("div",_,[k,Object(r["R"])(Object(r["i"])("input",{class:"col-5 p-2",type:"text",placeholder:"Highest Price","onUpdate:modelValue":t[9]||(t[9]=function(e){return d.searchPriceHighest=e})},null,512),[[r["N"],d.searchPriceHighest]])])]),Object(r["i"])("div",P,[S,Object(r["i"])("div",null,[Object(r["R"])(Object(r["i"])("select",{"onUpdate:modelValue":t[10]||(t[10]=function(e){return d.searchCategory=e})},[w,(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(d.categoryList,(function(e,t){return Object(r["y"])(),Object(r["h"])("option",{value:e.id,key:t},Object(r["J"])(e.name),9,C)})),128))],512),[[r["M"],d.searchCategory]])])])],2)]),Object(r["i"])("div",T,[Object(r["k"])(V,{active:d.loading},null,8,["active"])]),Object(r["R"])(Object(r["i"])("div",null,[Object(r["i"])("div",R,[Object(r["i"])("h4",null,Object(r["J"])(d.load_error),1)])],512),[[r["O"],d.load_error]]),0!=Object.keys(d.results).length?(Object(r["y"])(),Object(r["h"])("div",$,[Object(r["i"])("strong",null,Object(r["J"])(e.$t("inventory_search_results_text"))+": "+Object(r["J"])(d.searchText),1),d.results.products?(Object(r["y"])(),Object(r["h"])("div",J,[Object(r["i"])("h3",F,Object(r["J"])(e.$t("inventory_search_product_text")),1),Object(r["k"])(H,{rows:d.results.products,hover:!0,contain:["id","name","quantity","price","rating"],rowClickFunction:j.clickProduct},null,8,["rows","rowClickFunction"]),Object(r["R"])(Object(r["i"])("div",N,[Object(r["i"])("h3",null,Object(r["J"])(e.$t("inventory_search_empty_text")),1)],512),[[r["O"],0==d.results.products.length]]),!d.loading&&d.results.products.length?(Object(r["y"])(),Object(r["h"])("div",E,[Object(r["k"])(I,{pages:d.pages,current_page:d.current_page,onClickPage:j.clickProductPage,onNextPage:j.nextPage,onPrevPage:j.prevPage,onGotoLast:j.gotoLast},null,8,["pages","current_page","onClickPage","onNextPage","onPrevPage","onGotoLast"])])):Object(r["g"])("",!0)])):Object(r["g"])("",!0),d.results.categories?(Object(r["y"])(),Object(r["h"])("div",L,[Object(r["i"])("h3",q,Object(r["J"])(e.$t("inventory_search_category_text")),1),Object(r["k"])(H,{rows:d.results.categories,hover:!0,contain:["id","name","description","tags"],rowClickFunction:j.clickCategory},null,8,["rows","rowClickFunction"]),Object(r["R"])(Object(r["i"])("div",U,[Object(r["i"])("h3",null,Object(r["J"])(e.$t("inventory_search_empty_text")),1)],512),[[r["O"],0==d.results.categories.length]]),!d.loading&&d.results.categories.length?(Object(r["y"])(),Object(r["h"])("div",G,[Object(r["k"])(I,{pages:d.pages,current_page:d.current_page,onClickPage:j.clickCategoryPage,onNextPage:j.nextPage,onPrevPage:j.prevPage,onGotoLast:j.gotoLast},null,8,["pages","current_page","onClickPage","onNextPage","onPrevPage","onGotoLast"])])):Object(r["g"])("",!0)])):Object(r["g"])("",!0)])):Object(r["g"])("",!0)])}c("d3b7"),c("25f0");var H=c("0748"),I=c("b758"),Q=c("ce2f"),A={class:"my-3 p-3 shadow-sm border d-flex justify-content-between"},B={class:"d-flex w-100"},K={class:"mx-2 d-flex align-items-center col-2"},M=Object(r["i"])("i",{class:"fa fa-filter","aria-hidden":"true"},null,-1),z={class:"mx-2",style:{width:"15vh"}},D={class:"col-10 d-flex align-items-center px-2"},W={class:"col-md-8 col-sm-12 border d-flex"},X=Object(r["i"])("option",{value:"product"},"Products",-1),Y=Object(r["i"])("option",{value:"category"},"Categories",-1),Z=[X,Y];function ee(e,t,c,n,a,o){return Object(r["y"])(),Object(r["h"])("div",A,[Object(r["i"])("div",B,[Object(r["i"])("span",K,[M,Object(r["i"])("span",z,Object(r["J"])(e.$t("inventory_search_bar_filter_button")),1)]),Object(r["i"])("div",D,[Object(r["i"])("div",W,[Object(r["R"])(Object(r["i"])("input",{type:"search",placeholder:"Search",style:{border:"none"},class:"p-2 w-100","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.SearchQuery=e}),onKeydown:t[1]||(t[1]=Object(r["S"])((function(){return o.SearchProduct&&o.SearchProduct.apply(o,arguments)}),["enter"]))},null,544),[[r["N"],c.SearchQuery]]),Object(r["R"])(Object(r["i"])("select",{class:"form-group",style:{border:"none"},"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.SearchType=e})},Z,512),[[r["M"],c.SearchType]]),Object(r["i"])("button",{class:"btn border theme-background-primary text-light p-2",onClick:t[3]||(t[3]=function(){return o.SearchProduct&&o.SearchProduct.apply(o,arguments)})},Object(r["J"])(e.$t("inventory_search_bar_button_name")),1)])])])])}var te={name:"ProductSearch",props:{SearchQuery:{type:String,default:""},SearchType:{type:String,default:"product"}},methods:{SearchProduct:function(){this.$emit("search_product",{SearchQuery:this.SearchQuery,SearchType:this.SearchType})}}},ce=c("6b0d"),re=c.n(ce);const ne=re()(te,[["render",ee]]);var ae=ne,oe=c("e73b"),se=c("16a4"),ie={name:"Search",components:{Table:H["a"],LoadingIndicator:I["a"],PageNav:Q["a"],ProductSearch:ae},data:function(){return{loading:!1,load_error:"",ShowFilters:!1,categoryList:[],tagText:"",queryText:"",searchText:"",searchType:"product",searchTags:[],searchPriceSmallest:0,searchPriceHighest:0,searchCategory:0,results:{},current_page:1,pages:0,category_functions:[{text:"Update"},{text:"Delete"}]}},methods:{clickProduct:function(e){console.log("Click Product:",e),this.$router.push("/inventory/product/"+this.results.products[e].id)},clickCategory:function(e){console.log("Click Category:",e),this.$router.push("/category/update/"+this.results.categories[e].id)},getSearchResults:function(e,t){var c=this;this.loading=!0,this.load_error="",this.results={},this.searchText=this.queryText,oe["a"].SearchProduct(e,{search:this.queryText,category_id:0!=this.searchCategory?this.searchCategory:null,tags:this.searchTags,price_g:this.searchPriceHighest,price_l:this.searchPriceSmallest},t).then((function(e){c.loading=!1,console.log(e,t),c.results=e.data.data,c.pages=e.data.data.total_pages,c.current_page=e.data.data.next_page_num-1}),(function(e){c.loading=!1,console.log("Error:",e),c.load_error=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))},SearchProduct:function(){this.current_page=1,this.getSearchResults(1,this.searchType)},nextPage:function(){this.current_page!=this.pages&&this.getSearchResults(this.current_page+1,this.searchType)},prevPage:function(){1!=this.current_page&&this.getSearchResults(this.current_page-1,this.searchType)},gotoLast:function(){console.log("Goto last"),this.current_page!=this.pages&&this.getSearchResults(this.pages,this.searchType)},clickCategoryPage:function(e){this.getSearchResults(e,"category")},clickProductPage:function(e){this.getSearchResults(e,"product")}},mounted:function(){var e=this;this.$route.params.query_text&&(this.queryText=this.$route.params.query_text,this.searchType=this.$route.params.query_type,this.getSearchResults(1,this.$route.params.query_type)),se["a"].getCategories(1).then((function(t){e.categoryList=t.data.data.categories}))}};c("e354");const le=re()(ie,[["render",V]]);t["default"]=le},"407a":function(e,t,c){},"44e7":function(e,t,c){var r=c("861d"),n=c("c6b6"),a=c("b622"),o=a("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==n(e))}},"5a34":function(e,t,c){var r=c("da84"),n=c("44e7"),a=r.TypeError;e.exports=function(e){if(n(e))throw a("The method doesn't accept regular expressions");return e}},"853f":function(e,t,c){"use strict";function r(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{"x-access-token":e.token}:{}}c.d(t,"a",(function(){return r}))},ab13:function(e,t,c){var r=c("b622"),n=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(c){try{return t[n]=!1,"/./"[e](t)}catch(r){}}return!1}},adb0:function(e,t,c){},b02a:function(e,t,c){"use strict";c("ee1f")},b758:function(e,t,c){"use strict";var r=c("7a23"),n=c("12ae"),a=c.n(n),o={src:a.a,alt:"logo",height:"80"};function s(e,t,c,n,a,s){return Object(r["R"])((Object(r["y"])(),Object(r["h"])("img",o,null,512)),[[r["O"],c.active]])}var i={name:"LoadingIndicator",props:{active:Boolean}},l=c("6b0d"),u=c.n(l);const b=u()(i,[["render",s]]);t["a"]=b},ce2f:function(e,t,c){"use strict";var r=c("7a23"),n=function(e){return Object(r["B"])("data-v-53bba04f"),e=e(),Object(r["z"])(),e},a={class:"text-center my-2",style:{"font-weight":"bold"}},o={class:"d-flex"},s=n((function(){return Object(r["i"])("i",{class:"fa fa-arrow-left","aria-hidden":"true"},null,-1)})),i=[s],l=["onClick"],u={class:"mx-3"},b=n((function(){return Object(r["i"])("i",{class:"fa fa-arrow-right","aria-hidden":"true"},null,-1)})),d=[b];function h(e,t,c,n,s,b){var h=this;return Object(r["y"])(),Object(r["h"])("div",null,[Object(r["i"])("div",a,Object(r["J"])(e.$t("page_navigator_name"))+" ("+Object(r["J"])(c.pages)+" ) ",1),Object(r["i"])("div",o,[Object(r["i"])("div",{onClick:t[0]||(t[0]=function(){h.$emit("goto-first")}),class:"mx-3",style:{cursor:"pointer"}}," First "),Object(r["i"])("div",{style:{cursor:"pointer"},onClick:t[1]||(t[1]=function(){return b.prevPage&&b.prevPage.apply(b,arguments)})},i),(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(b.pagesTrim(c.pages,c.current_page,4),(function(e){return Object(r["y"])(),Object(r["h"])("div",{class:Object(r["s"])(["mx-3",e==c.current_page?"current-page":""]),key:e,style:{cursor:"pointer"},onClick:function(t){return b.clickPage(e)}},Object(r["J"])(e),11,l)})),128)),Object(r["R"])(Object(r["i"])("div",u,"...",512),[[r["O"],c.pages>10&&c.current_page+5<c.pages]]),Object(r["i"])("div",{style:{cursor:"pointer"},onClick:t[2]||(t[2]=function(){return b.nextPage&&b.nextPage.apply(b,arguments)})},d),Object(r["i"])("div",{onClick:t[3]||(t[3]=function(){h.$emit("goto-last")}),class:"mx-3",style:{cursor:"pointer"}}," Last ")])])}c("a9e3");var g={name:"Page Navigator",props:{pages:{type:Number,default:0},current_page:{type:Number,default:0}},methods:{clickPage:function(e){this.$emit("click-page",e)},nextPage:function(){this.$emit("next-page")},prevPage:function(){this.$emit("prev-page")},pagesTrim:function(e,t,c){if(e>10){for(var r=[],n=t-c;n<t+c;n++)if(!(n<1)){if(n>e)break;r.push(n)}return console.log("trim_pages",r,"pages",e),console.log("current_page",t,"limit",c),r}return e}}},p=(c("02c9"),c("6b0d")),O=c.n(p);const j=O()(g,[["render",h],["__scopeId","data-v-53bba04f"]]);t["a"]=j},e354:function(e,t,c){"use strict";c("407a")},e73b:function(e,t,c){"use strict";var r=c("d4ec"),n=c("bee2"),a=c("bc3a"),o=c.n(a),s=c("853f"),i="http://153.92.210.249:3000/api/v1/search",l=function(){function e(){Object(r["a"])(this,e)}return Object(n["a"])(e,[{key:"SearchProduct",value:function(e,t,c){return console.log(t),o.a.post(i+"/admin/"+e,t,{params:{product:"product"==c,category:"category"==c},headers:Object(s["a"])()})}},{key:"SearchOrder",value:function(e,t){return o.a.post(i+"/order/"+e,t,{headers:Object(s["a"])()})}}]),e}();t["a"]=new l},ee1f:function(e,t,c){}}]);
//# sourceMappingURL=chunk-64100fdf.00f26013.js.map