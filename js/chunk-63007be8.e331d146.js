(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63007be8"],{"0748":function(e,t,n){"use strict";n("caad"),n("2532");var r=n("7a23"),i={class:"table-responsive"},a={class:"table",style:{border:"none"}},o={key:0,style:{padding:"2vh"}},c={style:{border:"none"}},s=["onClick"],l={key:0,style:{padding:"0"}},d={class:"btn p-2"};function u(e,t,n,u,b,O){return Object(r["y"])(),Object(r["h"])("div",i,[Object(r["i"])("table",a,[Object(r["i"])("thead",null,[Object(r["i"])("tr",null,[(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(O.columns,(function(t,n){return Object(r["R"])((Object(r["y"])(),Object(r["h"])("th",{scope:"col",key:n,class:"bg-light",style:{padding:"2vh"}},[Object(r["F"])(e.$slots,t+"-title",{col:t},(function(){return[Object(r["j"])(Object(r["J"])(t),1)]}),!0)],512)),[[r["O"],O.containColumn.includes(t)]])})),128)),n.functions.length>0&&n.rows.length>0?(Object(r["y"])(),Object(r["h"])("th",o," Functions ")):Object(r["g"])("",!0)])]),Object(r["i"])("tbody",c,[(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(n.rows,(function(t,i){return Object(r["y"])(),Object(r["h"])("tr",{key:i,class:Object(r["s"])(n.hover?"hover":""),onClick:function(e){return O.rowClickEvent(i)}},[(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(O.columns,(function(n,i){return Object(r["R"])((Object(r["y"])(),Object(r["h"])("td",{key:i,style:{padding:"2vh"}},[Object(r["F"])(e.$slots,n,{row:t},(function(){return[Object(r["j"])(Object(r["J"])(t[n]),1)]}),!0)],512)),[[r["O"],O.containColumn.includes(n)]])})),128)),n.functions.length>0?(Object(r["y"])(),Object(r["h"])("div",l,[(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(n.functions,(function(e,t){return Object(r["y"])(),Object(r["h"])("td",{key:t,style:{padding:"2vh"}},[Object(r["i"])("button",d,Object(r["J"])(e.text),1)])})),128))])):Object(r["g"])("",!0)],10,s)})),128))])])])}n("b64b");var b={name:"Table",props:{hover:{type:Boolean,default:!1},rows:Array,functions:{type:Array,default:[]},isHeader:{type:Boolean,default:!0},contain:{type:Array,default:[]},innerRow:{type:Array,default:[]},rowClickFunction:{type:Function,default:function(){}}},computed:{columns:function(){return 0==this.rows.length?[]:Object.keys(this.rows[0])},containColumn:function(){return 0==this.rows.length||0!=this.contain.length?this.contain:Object.keys(this.rows[0])}},methods:{functionEvent:function(e){return this.functions[e].event?this.functions[e].event:null},rowClickEvent:function(e){this.rowClickFunction(e)}}},O=(n("b02a"),n("6b0d")),p=n.n(O);const j=p()(b,[["render",u],["__scopeId","data-v-6737075d"]]);t["a"]=j},"12ae":function(e,t,n){e.exports=n.p+"img/loading.a4f2cb80.gif"},1384:function(e,t,n){"use strict";var r=n("d4ec"),i=n("bee2"),a=n("bc3a"),o=n.n(a),c=n("853f"),s="http://153.92.210.249:3000/api/v1/driver",l=function(){function e(){Object(r["a"])(this,e)}return Object(i["a"])(e,[{key:"getDrivers",value:function(e){return console.log("Page:",e),o.a.get(s+"/available/"+e,{headers:Object(c["a"])()})}},{key:"getSingleDriver",value:function(e){return o.a.get(s+"/admin/"+e,{headers:Object(c["a"])()})}},{key:"getUnoccupiedDriver",value:function(e){return o.a.get(s+"/available/"+e,{headers:Object(c["a"])()})}},{key:"assignDriver",value:function(e){return o.a.post(s+"/assign",e,{headers:Object(c["a"])()})}}]),e}();t["a"]=new l},"1b74":function(e,t,n){},2532:function(e,t,n){"use strict";var r=n("23e7"),i=n("e330"),a=n("5a34"),o=n("1d80"),c=n("577e"),s=n("ab13"),l=i("".indexOf);r({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~l(c(o(this)),c(a(e)),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,n){"use strict";var r=n("e330"),i=n("5e77").PROPER,a=n("6eeb"),o=n("825a"),c=n("3a9b"),s=n("577e"),l=n("d039"),d=n("ad6d"),u="toString",b=RegExp.prototype,O=b[u],p=r(d),j=l((function(){return"/a/b"!=O.call({source:"a",flags:"b"})})),f=i&&O.name!=u;(j||f)&&a(RegExp.prototype,u,(function(){var e=o(this),t=s(e.source),n=e.flags,r=s(void 0===n&&c(b,e)&&!("flags"in b)?p(e):n);return"/"+t+"/"+r}),{unsafe:!0})},3905:function(e,t,n){"use strict";var r=n("7a23"),i=function(e){return Object(r["B"])("data-v-ccb7509c"),e=e(),Object(r["z"])(),e},a={class:"popup-background"},o={class:"popup-header d-flex justify-content-between p-4"},c=i((function(){return Object(r["i"])("i",{class:"fa fa-window-close","aria-hidden":"true"},null,-1)})),s=[c],l={class:"popup-body"},d={class:"popup-footer"};function u(e,t,n,i,c,u){return Object(r["R"])((Object(r["y"])(),Object(r["h"])("div",a,[Object(r["i"])("div",{class:"popup",style:Object(r["t"])({height:n.height+"px",width:n.width+"px"})},[Object(r["i"])("div",o,[Object(r["i"])("span",null,[Object(r["i"])("h3",null,Object(r["J"])(n.title),1)]),Object(r["i"])("span",{onClick:t[0]||(t[0]=function(){return u.closePopup&&u.closePopup.apply(u,arguments)}),class:"closeButton"},s)]),Object(r["i"])("div",l,[Object(r["F"])(e.$slots,"body",{},void 0,!0)]),Object(r["i"])("div",d,[Object(r["F"])(e.$slots,"footer",{},void 0,!0)])],4)],512)),[[r["O"],c.PopupActive]])}n("a9e3");var b={name:"Popup",props:{title:{type:String,default:""},width:{type:Number,default:600},height:{type:Number,default:300}},data:function(){return{PopupActive:!1}},methods:{closePopup:function(){this.PopupActive=!1},showPopup:function(){this.PopupActive=!0}}},O=(n("8215"),n("6b0d")),p=n.n(O);const j=p()(b,[["render",u],["__scopeId","data-v-ccb7509c"]]);t["a"]=j},"44e7":function(e,t,n){var r=n("861d"),i=n("c6b6"),a=n("b622"),o=a("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},"5a34":function(e,t,n){var r=n("da84"),i=n("44e7"),a=r.TypeError;e.exports=function(e){if(i(e))throw a("The method doesn't accept regular expressions");return e}},"5be8":function(e,t,n){},"7e61":function(e,t,n){"use strict";var r=n("d4ec"),i=n("bee2"),a=n("bc3a"),o=n.n(a),c=n("853f"),s="http://153.92.210.249:3000/api/v1/order",l=function(){function e(){Object(r["a"])(this,e)}return Object(i["a"])(e,[{key:"getOrders",value:function(e){return o.a.post(s+"/paginated/"+e,{type:0},{headers:Object(c["a"])()})}},{key:"getSingleOrder",value:function(e){return o.a.get(s+"/admin/"+e,{headers:Object(c["a"])()})}},{key:"updateStatus",value:function(e,t){return console.log(t),o.a.patch(s+"/admin/"+e,{status:t},{headers:Object(c["a"])()})}},{key:"deleteOrder",value:function(e){return o.a.delete(s+"/"+e,{headers:Object(c["a"])()})}}]),e}();t["a"]=new l},8215:function(e,t,n){"use strict";n("5be8")},"853f":function(e,t,n){"use strict";function r(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{"x-access-token":e.token}:{}}n.d(t,"a",(function(){return r}))},ab13:function(e,t,n){var r=n("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},b02a:function(e,t,n){"use strict";n("ee1f")},b758:function(e,t,n){"use strict";var r=n("7a23"),i=n("12ae"),a=n.n(i),o={src:a.a,alt:"logo",height:"80"};function c(e,t,n,i,a,c){return Object(r["R"])((Object(r["y"])(),Object(r["h"])("img",o,null,512)),[[r["O"],n.active]])}var s={name:"LoadingIndicator",props:{active:Boolean}},l=n("6b0d"),d=n.n(l);const u=d()(s,[["render",c]]);t["a"]=u},ee1f:function(e,t,n){},f3a6:function(e,t,n){"use strict";n.r(t);n("99af");var r=n("7a23"),i={class:"theme-dashboard-view"},a={key:0,class:"py-5 d-flex justify-content-center align-items-center"},o={class:"justify-content-center text-center text-danger my-4"},c={key:1},s={class:"bg-warning text-white p-4"},l=Object(r["i"])("h4",null,"Misconfiguration Warning",-1),d=Object(r["j"])(" Order should not be status "),u=Object(r["i"])("strong",null,"Delivering",-1),b=Object(r["j"])(" when order type is "),O=Object(r["i"])("strong",null,"On-Site Pickup",-1),p=Object(r["j"])("! "),j=[l,d,u,b,O,p],f={class:"row my-5"},g={class:"col-md"},h={class:"text-center"},v=Object(r["i"])("i",{class:"fas fa-clock"},null,-1),_={class:"text-center"},y=Object(r["i"])("i",{class:"fas fa-truck"},null,-1),m={class:"text-center"},x=Object(r["i"])("i",{class:"fa fa-check-circle","aria-hidden":"true"},null,-1),k={class:"col-md d-flex flex-column"},w={class:"h-100 d-flex flex-column justify-content-center"},D={class:"px-4"},C={class:"d-flex justify-content-around p-3"},$={class:"my-2 p-3"},A={class:"my-2"},S={class:"my-3 d-flex flex-wrap"},P={class:"col-lg-6 col-12 p-2"},J={class:"col-lg-6 col-12"},R=Object(r["i"])("i",{class:"fa fa-check-circle text-success"},null,-1),G=Object(r["j"])(" Paid"),T=[R,G],E=Object(r["i"])("i",{class:"fa fa-times-circle text-danger","aria-hidden":"true"},null,-1),B=Object(r["j"])(" Not Paid "),M=[E,B],N={class:"p-3"},I={class:"border"},L=Object(r["i"])("hr",null,null,-1),Q={class:"mx-3"};function F(e,t,n,l,d,u){var b=Object(r["G"])("LoadingIndicator"),O=Object(r["G"])("ConfirmationDialog"),p=Object(r["G"])("AssignDriver"),R=Object(r["G"])("Map"),G=Object(r["G"])("InfoBox");return Object(r["y"])(),Object(r["h"])("div",i,[d.display?Object(r["g"])("",!0):(Object(r["y"])(),Object(r["h"])("div",a,[Object(r["k"])(b,{active:d.loading},null,8,["active"]),Object(r["R"])(Object(r["i"])("div",null,[Object(r["i"])("div",o,[Object(r["i"])("h4",null,Object(r["J"])(d.load_error),1)])],512),[[r["O"],d.load_error]])])),d.display?(Object(r["y"])(),Object(r["h"])("div",c,[Object(r["R"])(Object(r["i"])("div",s,j,512),[[r["O"],0==d.order.type&&1==d.order.status]]),Object(r["i"])("div",f,[Object(r["i"])("div",g,[Object(r["i"])("div",{class:"px-5",onClick:t[0]||(t[0]=function(){return u.confirmUpdateStatus&&u.confirmUpdateStatus.apply(u,arguments)}),style:{cursor:"pointer"}},[Object(r["i"])("div",null,[Object(r["i"])("div",{class:Object(r["s"])(["text-light d-flex align-items-center justify-content-center rounded",{"bg-warning":0==d.order.status,"bg-primary":1==d.order.status,"bg-success":2==d.order.status}]),style:{"min-height":"32vh"}},[Object(r["R"])(Object(r["i"])("div",h,[Object(r["i"])("h3",null,[Object(r["R"])(Object(r["i"])("span",null,Object(r["J"])(e.$t("single_order_status_waiting")),513),[[r["O"],1==d.order.type]]),Object(r["R"])(Object(r["i"])("span",null,Object(r["J"])(e.$t("single_order_status_waiting_pickup")),513),[[r["O"],0==d.order.type]])]),v],512),[[r["O"],0==d.order.status]]),Object(r["R"])(Object(r["i"])("div",_,[Object(r["i"])("h3",null,Object(r["J"])(e.$t("single_order_status_delivering")),1),y],512),[[r["O"],1==d.order.status]]),Object(r["R"])(Object(r["i"])("div",m,[Object(r["i"])("h3",null,Object(r["J"])(e.$t("single_order_status_delivered")),1),x],512),[[r["O"],2==d.order.status]])],2)])]),Object(r["k"])(O,{ref:"ConfirmDialog",onConfirm:u.updateStatus,message:"".concat(e.$t("order_home_confirm_change_status_first")," ").concat(u.getOrderStatus(d.order.status)," ").concat(e.$t("order_home_confirm_change_status_middle")," ").concat(u.getOrderStatus(u.getNextStatus())," ").concat(e.$t("order_home_confirm_change_status_end"),"?")},null,8,["onConfirm","message"])]),Object(r["i"])("div",k,[Object(r["i"])("div",w,[Object(r["i"])("div",null,Object(r["J"])(e.$t("single_order_time_text"))+":",1),Object(r["i"])("div",D,[Object(r["i"])("h3",null,Object(r["J"])(d.elapsedTime),1)])]),Object(r["i"])("div",C,[Object(r["i"])("button",{class:"btn btn-danger",onClick:t[1]||(t[1]=function(){return u.deleteOrder&&u.deleteOrder.apply(u,arguments)})},Object(r["J"])(e.$t("single_order_delete_button")),1),1==this.order.type&&0==this.order.status?(Object(r["y"])(),Object(r["h"])("button",{key:0,class:"btn btn-warning",onClick:t[2]||(t[2]=function(){return u.ShowAvailableDrivers&&u.ShowAvailableDrivers.apply(u,arguments)})},Object(r["J"])(e.$t("single_order_assign_to_driver_button")),1)):Object(r["g"])("",!0),Object(r["k"])(p,{ref:"AssignDriver",order_id:d.order.id},null,8,["order_id"])])])]),Object(r["i"])("div",$,[Object(r["i"])("div",A,[Object(r["i"])("h2",null,Object(r["J"])(e.$t("single_order_title")),1)]),Object(r["i"])("div",S,[Object(r["R"])(Object(r["i"])("div",P,[Object(r["k"])(R,{center:{lat:d.order.delivery_location.latitude,lng:d.order.delivery_location.longitude},markers:[{position:{lat:d.order.delivery_location.latitude,lng:d.order.delivery_location.longitude}}]},null,8,["center","markers"])],512),[[r["O"],1==d.order.type]]),Object(r["i"])("div",J,[Object(r["k"])(G,{title:e.$t("single_order_id_text"),data:d.order.id},null,8,["title","data"]),Object(r["k"])(G,{title:e.$t("single_order_type_text"),data:d.order.type},{data:Object(r["Q"])((function(e){return[Object(r["i"])("div",null,[Object(r["i"])("span",null,Object(r["J"])(u.getOrderType(e.data)),1)])]})),_:1},8,["title","data"]),Object(r["k"])(G,{title:e.$t("single_order_user_phone_number_text"),data:d.order.user_phoneNumber},null,8,["title","data"]),Object(r["k"])(G,{title:e.$t("single_order_payment_option_text"),data:d.order.payment_option},{data:Object(r["Q"])((function(e){return[Object(r["i"])("div",null,[Object(r["R"])(Object(r["i"])("span",null," Telebirr ",512),[[r["O"],0==e.data]]),Object(r["R"])(Object(r["i"])("span",null," CBEBirr ",512),[[r["O"],1==e.data]])])]})),_:1},8,["title","data"]),Object(r["k"])(G,{title:e.$t("single_order_payment_status_text"),data:d.order.payment_status},{data:Object(r["Q"])((function(e){return[Object(r["i"])("div",null,[Object(r["R"])(Object(r["i"])("span",null,T,512),[[r["O"],e.data]]),Object(r["R"])(Object(r["i"])("span",null,M,512),[[r["O"],!e.data]])])]})),_:1},8,["title","data"]),Object(r["k"])(G,{title:e.$t("single_order_branch_text"),data:d.order.branch},{data:Object(r["Q"])((function(e){return[Object(r["i"])("div",null,[Object(r["R"])(Object(r["i"])("span",null,"Nani",512),[[r["O"],1==e.data]]),Object(r["R"])(Object(r["i"])("span",null,"Almoudi",512),[[r["O"],2==e.data]]),Object(r["R"])(Object(r["i"])("span",null,"Sara",512),[[r["O"],3==e.data]])])]})),_:1},8,["title","data"])])]),Object(r["i"])("div",N,[Object(r["i"])("h3",null,Object(r["J"])(e.$t("single_order_list_title")),1)]),Object(r["i"])("div",I,[L,Object(r["i"])("div",Q,[Object(r["i"])("h5",null,Object(r["J"])(e.$t("single_order_total_price"))+": "+Object(r["J"])(d.order.total_price)+" ETB ",1)])])])])):Object(r["g"])("",!0)])}n("d3b7"),n("25f0");var U=n("0748"),z=n("b758"),H={class:"text-center h3 p-4"},K={class:"d-flex justify-content-around"};function V(e,t,n,i,a,o){var c=Object(r["G"])("Popup");return Object(r["y"])(),Object(r["h"])("div",null,[Object(r["k"])(c,{ref:"ConfirmDialog"},{body:Object(r["Q"])((function(){return[Object(r["i"])("div",H,Object(r["J"])(n.message),1)]})),footer:Object(r["Q"])((function(){return[Object(r["i"])("div",K,[Object(r["i"])("button",{onClick:t[0]||(t[0]=function(){return o.sendConfirm&&o.sendConfirm.apply(o,arguments)}),class:"btn btn-outline-primary"},"Yes"),Object(r["i"])("button",{onClick:t[1]||(t[1]=function(){return o.closeConfirmDialog&&o.closeConfirmDialog.apply(o,arguments)}),class:"btn btn-outline-danger"},"No")])]})),_:1},512)])}var W=n("3905"),Y={name:"ConfirmDialog",props:{message:{type:String,default:"Are you sure?"}},components:{Popup:W["a"]},methods:{showConfirmDialog:function(){this.$refs.ConfirmDialog.showPopup()},closeConfirmDialog:function(){this.$refs.ConfirmDialog.closePopup()},sendConfirm:function(){this.$emit("confirm"),this.$refs.ConfirmDialog.closePopup()}}},q=n("6b0d"),X=n.n(q);const Z=X()(Y,[["render",V]]);var ee=Z;function te(e,t,n,i,a,o){var c=Object(r["G"])("GMapMarker"),s=Object(r["G"])("GMapCluster"),l=Object(r["G"])("GMapMap");return Object(r["y"])(),Object(r["h"])("div",null,[Object(r["k"])(l,{center:n.center,zoom:15,"map-type-id":"terrain",style:Object(r["t"])({height:n.height+"px"})},{default:Object(r["Q"])((function(){return[Object(r["k"])(s,null,{default:Object(r["Q"])((function(){return[(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(n.markers,(function(e,t){return Object(r["y"])(),Object(r["f"])(c,{key:t,position:e.position,clickable:!0,draggable:!0,onClick:function(t){return n.center=e.position}},null,8,["position","onClick"])})),128))]})),_:1})]})),_:1},8,["center","style"])])}n("a9e3");var ne={name:"Map",props:{center:{type:Object,default:{lat:8.9806034,lng:38.7577605}},markers:{type:Array,default:[]},height:{type:Number,default:400}},methods:{}};const re=X()(ne,[["render",te]]);var ie=re,ae=function(e){return Object(r["B"])("data-v-cb4c9fae"),e=e(),Object(r["z"])(),e},oe={class:"d-flex justify-content-center"},ce={class:"justify-content-center text-center text-danger my-4"},se={class:"col-md-7 col-12 p-3"},le={class:"d-flex"},de={class:"bg-primary border my-1",style:{"min-height":"300px"}},ue={class:"col-md-5 col-12 bg-secondary text-white border"},be={class:"py-2"},Oe={style:{"font-size":"20px","text-align":"center",margin:"0"}},pe={class:"bg-white text-black driver-list",style:{overflow:"auto",height:"300px"}},je=["onClick"],fe=ae((function(){return Object(r["i"])("span",{class:"me-3"},[Object(r["i"])("i",{class:"fas fa-location"})],-1)})),ge={class:"px-2 py-1"},he={class:"d-flex justify-content-between"},ve=ae((function(){return Object(r["i"])("i",{class:"fa fa-arrow-left","aria-hidden":"true"},null,-1)})),_e=[ve],ye={class:"align-items-center d-flex px-2"},me=ae((function(){return Object(r["i"])("i",{class:"fa fa-arrow-right","aria-hidden":"true"},null,-1)})),xe=[me],ke={class:"p-2 d-flex justify-content-around"};function we(e,t,n,i,a,o){var c=Object(r["G"])("LoadingIndicator"),s=Object(r["G"])("Map"),l=Object(r["G"])("Popup");return Object(r["y"])(),Object(r["f"])(l,{ref:"AssignDriver",title:e.$t("single_order_assign_to_driver_button"),width:670,height:570},{body:Object(r["Q"])((function(){return[Object(r["i"])("div",oe,[Object(r["k"])(c,{active:a.loading},null,8,["active"])]),Object(r["R"])(Object(r["i"])("div",null,[Object(r["i"])("div",ce,[Object(r["i"])("h4",null,Object(r["J"])(a.load_error),1)])],512),[[r["O"],a.load_error]]),Object(r["i"])("div",{class:Object(r["s"])(["flex-wrap h-100 bg-light border",{"d-flex":!a.loading,"d-none":a.loading}]),style:{overflow:"auto"}},[Object(r["i"])("div",se,[Object(r["i"])("div",le,[Object(r["R"])(Object(r["i"])("input",{type:"text",class:"p-2 w-100 border-secondary",placeholder:"Enter delivery address","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.locationText=e}),onKeydown:t[1]||(t[1]=Object(r["S"])((function(){return o.getGeocodeLocation&&o.getGeocodeLocation.apply(o,arguments)}),["enter"]))},null,544),[[r["N"],a.locationText]]),Object(r["i"])("button",{class:"btn btn-outline-primary",onClick:t[2]||(t[2]=function(){return o.getGeocodeLocation&&o.getGeocodeLocation.apply(o,arguments)})}," Submit ")]),Object(r["i"])("div",de,[Object(r["k"])(s,{height:"300",center:a.location},null,8,["center"])])]),Object(r["i"])("div",ue,[Object(r["i"])("div",null,[Object(r["i"])("div",be,[Object(r["i"])("p",Oe,[Object(r["i"])("strong",null,Object(r["J"])(e.$t("single_order_assign_driver_popup_nearby_drivers")),1)])]),Object(r["i"])("div",pe,[(Object(r["y"])(!0),Object(r["h"])(r["a"],null,Object(r["E"])(a.availableDrivers,(function(e,t){return Object(r["y"])(),Object(r["h"])("div",{class:Object(r["s"])(["d-flex justify-content-start option-hover p-3",{"selected-driver":a.selectedDriver==t}]),onClick:function(){a.selectedDriver=t},key:t},[fe,Object(r["i"])("span",null,Object(r["J"])(e.firstName)+" "+Object(r["J"])(e.lastName),1)],10,je)})),128))]),Object(r["i"])("div",ge,[Object(r["i"])("div",he,[Object(r["i"])("button",{class:"btn",onClick:t[3]||(t[3]=function(){return o.prevPage&&o.prevPage.apply(o,arguments)})},_e),Object(r["i"])("div",ye,Object(r["J"])(a.current_page)+"/"+Object(r["J"])(a.pages),1),Object(r["i"])("button",{class:"btn",onClick:t[4]||(t[4]=function(){return o.nextPage&&o.nextPage.apply(o,arguments)})},xe)])])])])],2)]})),footer:Object(r["Q"])((function(){return[Object(r["i"])("div",ke,[Object(r["i"])("button",{class:"btn btn-success",onClick:t[5]||(t[5]=function(){return o.AssignDriver&&o.AssignDriver.apply(o,arguments)})}," Assign Driver "),Object(r["i"])("button",{class:"btn btn-danger",onClick:t[6]||(t[6]=function(){return o.closeAvailableDrivers&&o.closeAvailableDrivers.apply(o,arguments)})}," Cancel ")])]})),_:1},8,["title"])}var De=n("1384"),Ce=n("d4ec"),$e=n("bee2"),Ae=n("bc3a"),Se=n.n(Ae),Pe=n("853f"),Je="http://153.92.210.249:3000/api/v1/",Re=function(){function e(){Object(Ce["a"])(this,e)}return Object($e["a"])(e,[{key:"getGeocode",value:function(e){return Se.a.post(Je+"common/admin/geocode",{place_name:e},{headers:Object(Pe["a"])()})}}]),e}(),Ge=new Re,Te={name:"AssignDriver",props:{order_id:{type:Number,default:0}},components:{Popup:W["a"],Map:ie,LoadingIndicator:z["a"]},data:function(){return{loading:!1,load_error:"",locationText:"",location:{lat:8.9806034,lng:38.7577605},selectedDriver:0,current_page:1,pages:0,availableDrivers:[]}},methods:{nextPage:function(){this.current_page!=this.pages&&this.GetAvailableDrivers(this.current_page+1)},prevPage:function(){1!=this.current_page&&this.GetAvailableDrivers(this.current_page-1)},ShowAvailableDriversPopup:function(){this.$refs.AssignDriver.showPopup(),this.GetAvailableDrivers(this.current_page)},closeAvailableDrivers:function(){this.$refs.AssignDriver.closePopup()},getDriverLocations:function(){},GetAvailableDrivers:function(e){var t=this;this.loading=!0,this.load_error="",De["a"].getUnoccupiedDriver(e).then((function(n){console.log(n),t.loading=!1,t.availableDrivers=n.data.data.drivers,t.current_page=e,t.pages=n.data.data.total_pages}),(function(e){t.loading=!1,t.load_error=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))},getGeocodeLocation:function(){var e=this;this.loading=!0,this.load_error="",Ge.getGeocode(this.locationText).then((function(t){e.loading=!1,console.log(t),e.location=t.data.data}),(function(t){console.log(t),e.loading=!1,e.load_error=t.response&&t.response.data&&t.response.data.message||t.message||t.toString()}))},AssignDriver:function(){var e=this;this.loading=!0,this.load_error="",console.log("the driver information to be assigned is :".concat({driver_id:this.availableDrivers[this.selectedDriver].id,order_id:this.order_id})),De["a"].assignDriver({driver_id:this.availableDrivers[this.selectedDriver].id,order_id:this.order_id}).then((function(t){e.loading=!1,console.log(t),e.closeAvailableDrivers()}),(function(t){e.loading=!1,e.load_error=t.response&&t.response.data&&t.response.data.message||t.message||t.toString(),console.log(t)}))}}};n("f6e7");const Ee=X()(Te,[["render",we],["__scopeId","data-v-cb4c9fae"]]);var Be=Ee,Me={class:"d-flex rounded border my-2 mx-1"},Ne={class:"col-3 col-md-3 col-lg-4 py-4 px-1 text-center theme-background-secondary",style:{"min-width":"100px"}},Ie={class:"col-9 col-md-9 col-lg-8 d-flex align-items-center px-3 flex-wrap",style:{"min-width":"100px"}};function Le(e,t,n,i,a,o){return Object(r["y"])(),Object(r["h"])("div",Me,[Object(r["i"])("div",Ne,[Object(r["i"])("strong",null,Object(r["J"])(n.title),1)]),Object(r["i"])("div",Ie,[Object(r["F"])(e.$slots,"data",{data:n.data},(function(){return[Object(r["j"])(Object(r["J"])(n.data),1)]}))])])}var Qe={name:"InfoBox",props:{title:{type:String,default:""},data:null}};const Fe=X()(Qe,[["render",Le]]);var Ue=Fe,ze=n("7e61"),He={name:"SingleOrder",components:{Table:U["a"],LoadingIndicator:z["a"],ConfirmationDialog:ee,Map:ie,AssignDriver:Be,InfoBox:Ue},data:function(){return{order:{},order_items:[],loading:!1,load_error:"",display:!1,interval:null,elapsedTime:null,showAssignButton:!1,availableDrivers:[]}},methods:{ShowAvailableDrivers:function(){this.$refs.AssignDriver.ShowAvailableDriversPopup()},DateParse:function(e){var t=new Date(Date.parse(e));return t},CalculateTimeDifference:function(e,t){var n=e.getTime()-t.getTime(),r=(Math.floor(n%1e3/100),Math.floor(n/1e3%60)),i=Math.floor(n/6e4%60),a=Math.floor(n/36e5%24),o=Math.floor(n/864e5),c="".concat(o," ").concat(this.$t("single_order_time_days")," : ").concat(a," ").concat(this.$t("single_order_time_hours")," : ").concat(i," ").concat(this.$t("single_order_time_minutes")," : ").concat(r," ").concat(this.$t("single_order_time_seconds")," ");return c},startClock:function(e){var t=this;this.interval=setInterval((function(){t.elapsedTime=t.CalculateTimeDifference(new Date,t.DateParse(e))}),1e3)},getOrderType:function(e){switch(e){case 0:return this.$t("single_order_type_on_site");case 1:return this.$t("single_order_type_delivery")}},getOrderStatus:function(e){switch(e){case 0:return this.$t("order_home_table_status_pending");case 1:return this.$t("order_home_table_status_delivering");case 2:return this.$t("order_home_table_status_delivered")}},getNextStatus:function(){if(0==this.order.type){if(0==this.order.status)return 2;if(2==this.order.status)return 0;if(1==this.order.status)return 0}else if(1==this.order.type){if(0==this.order.status)return 1;if(1==this.order.status)return 2;if(2==this.order.status)return 0}},updateStatus:function(){var e=this;this.loading=!0,this.load_error="",ze["a"].updateStatus(this.order.id,this.getNextStatus()).then((function(t){e.loading=!1,e.order.status=e.getNextStatus()}),(function(t){console.log(t.response),e.loading=!1,e.load_error=t.response&&t.response.data&&t.response.data.message||t.message||t.toString()}))},deleteOrder:function(){var e=this;this.loading=!0,this.load_error="",ze["a"].deleteOrder(this.$route.params.id).then((function(t){e.loading=!1,e.$router.push("/orders")}),(function(t){e.loading=!1,console.log("Error:",t),e.load_error=t.response&&t.response.data&&t.response.data.message||t.message||t.toString()}))},confirmUpdateStatus:function(){this.$refs.ConfirmDialog.showConfirmDialog()}},beforeUnmount:function(){clearInterval(this.interval)},mounted:function(){var e=this;this.loading=!0,this.load_error="",ze["a"].getSingleOrder(this.$route.params.id).then((function(t){e.loading=!1,e.display=!0,console.log(t.data.data),console.log(t.data.data.items),e.order=t.data.data,e.order_items=t.data.data.items,1===e.order.type&&0===e.order.status&&(console.log("show assign button is:  ".concat(e.showAssignButton)),e.showAssignButton=!0,console.log("show assign button is:  ".concat(e.showAssignButton))),2!=e.order.status?e.startClock(e.order.created_at):e.elapsedTime=e.DateParse(e.order.finished_at)-e.DateParse(e.order.created_at)}),(function(t){e.loading=!1,console.log("Error:",t),e.load_error=t.response&&t.response.data&&t.response.data.message||t.message||t.toString()}))}};const Ke=X()(He,[["render",F]]);t["default"]=Ke},f6e7:function(e,t,n){"use strict";n("1b74")}}]);
//# sourceMappingURL=chunk-63007be8.e331d146.js.map